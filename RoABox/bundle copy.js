var app=function(){"use strict";function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function null_to_empty(e){return null==e?"":e}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function xlink_attr(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function to_number(e){return""===e?void 0:+e}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){(null!=t||e.value)&&(e.value=t)}function set_style(e,t,n,a){e.style.setProperty(t,n,a?"important":"")}function select_option(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t)return void(a.selected=!0)}}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let current_component;function set_current_component(e){current_component=e}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}function flush(){const e=new Set;do{for(;dirty_components.length;){const e=dirty_components.shift();set_current_component(e),update(e.$$)}for(;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];e.has(n)||(n(),e.add(n))}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function update(e){e.fragment&&(e.update(e.dirty),run_all(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(add_render_callback))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,a){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function bind(e,t,n){-1!==e.$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t]))}function mount_component(e,t,n){const{fragment:a,on_mount:i,on_destroy:r,after_update:o}=e.$$;a.m(t,n),add_render_callback(()=>{const t=i.map(run).filter(is_function);r?r.push(...t):run_all(t),e.$$.on_mount=[]}),o.forEach(add_render_callback)}function destroy_component(e,t){e.$$.fragment&&(run_all(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function make_dirty(e,t){e.$$.dirty||(dirty_components.push(e),schedule_update(),e.$$.dirty=blank_object()),e.$$.dirty[t]=!0}function init(e,t,n,a,i,r){const o=current_component;set_current_component(e);const s=t.props||{},l=e.$$={fragment:null,ctx:null,props:r,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:blank_object(),dirty:null};let c=!1;l.ctx=n?n(e,s,(t,n,a=n)=>(l.ctx&&i(l.ctx[t],l.ctx[t]=a)&&(l.bound[t]&&l.bound[t](a),c&&make_dirty(e,t)),n)):s,l.update(),c=!0,run_all(l.before_update),l.fragment=a(l.ctx),t.target&&(t.hydrate?l.fragment.l(children(t.target)):l.fragment.c(),t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()),set_current_component(o)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var store2=createCommonjsModule(function(e){var t,n,a,i;t=commonjsGlobal,n=commonjsGlobal&&commonjsGlobal.define,a={version:"2.10.0",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e){try{return JSON.parse(e)}catch(t){return e}},fn:function(e,t){for(var n in a.storeAPI[e]=t,a.apis)a.apis[n][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,n){var i=a.inherit(a.storeAPI,function(e,t,n){return 0===arguments.length?i.getAll():"function"==typeof t?i.transact(e,t,n):void 0!==t?i.set(e,t,n):"string"==typeof e||"number"==typeof e?i.get(e):"function"==typeof e?i.each(e):e?i.setAll(e,t):i.clear()});i._id=e;try{t.setItem("_-bad-_","wolf"),i._area=t,t.removeItem("_-bad-_")}catch(e){}return i._area||(i._area=a.storage("fake")),i._ns=n||"",a.areas[e]||(a.areas[e]=i._area),a.apis[i._ns+i._id]||(a.apis[i._ns+i._id]=i),i},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=a.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,i=this[n];if(!(i&&i.namespace||(i=a.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=i),t)))for(var r in a.areas)i.area(r,a.areas[r]);return i},isFake:function(){return"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,i=a.length(this._area);n<i;n++){var r=this._out(a.key(this._area,n));if(void 0!==r&&!1===e.call(this,r,this.get(r),t))break;i>a.length(this._area)&&(i--,n--)}return t||this},keys:function(e){return this.each(function(e,t,n){n.push(e)},e||[])},get:function(e,t){var n=a.get(this._area,this._in(e));return null!==n?a.parse(n):t||n},getAll:function(e){return this.each(function(e,t,n){n[e]=t},e||{})},transact:function(e,t,n){var a=this.get(e,n),i=t(a);return this.set(e,void 0===i?a:i),this},set:function(e,t,n){var i=this.get(e);return null!=i&&!1===n?t:a.set(this._area,this._in(e),a.stringify(t),n)||i},setAll:function(e,t){var n,a;for(var i in e)a=e[i],this.set(i,a,t)!==a&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var i=typeof n;if(i===typeof t&&"object"===i){for(var r in t)n[r]=t[r];t=n}else t=n+t}return a.set(this._area,this._in(e),a.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return a.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each(function(e){a.remove(this._area,this._in(e))},1):a.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in a.areas)a.areas.hasOwnProperty(t)&&(this._area=a.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!=typeof e&&(e=a.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return a.inherit(a.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},(i=a.Store("local",function(){try{return localStorage}catch(e){}}())).local=i,i._=a,i.area("session",function(){try{return sessionStorage}catch(e){}}()),i.area("page",a.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],function(){return i}):e.exports?e.exports=i:(t.store&&(a.conflict=t.store),t.store=i)}),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_templateObject=_taggedTemplateLiteral(["",""],["",""]);function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var TemplateTag=function(){function e(){for(var t=this,n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return _classCallCheck(this,e),this.tag=function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,a))))},a.length>0&&Array.isArray(a[0])&&(a=a[0]),this.transformers=a.map(function(e){return"function"==typeof e?e():e}),this.tag}return _createClass(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return this.tag(_templateObject,e.apply(void 0,[t].concat(a)))}},{key:"processSubstitutions",value:function(e,t,n){var a=this.transformSubstitution(e.shift(),t);return"".concat(t,a,n)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),trimResultTransformer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var stripIndentTransformer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),a=n&&Math.min.apply(Math,_toConsumableArray(n.map(function(e){return e.length})));if(a){var i=new RegExp("^.{"+a+"}","gm");return t.replace(i,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},replaceResultTransformer=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},replaceSubstitutionTransformer=function(e,t){return{onSubstitution:function(n,a){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},defaults={separator:"",conjunction:"",serial:!1},inlineArrayTransformer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaults;return{onSubstitution:function(t,n){if(Array.isArray(t)){var a=t.length,i=e.separator,r=e.conjunction,o=e.serial,s=n.match(/(\n?[^\S\n]+)$/);if(t=s?t.join(i+s[1]):t.join(i+" "),r&&a>1){var l=t.lastIndexOf(i);t=t.slice(0,l)+(o?i:"")+" "+r+t.slice(l+1)}}return t}}},splitStringTransformer=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},isValidValue=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},removeNonPrintingValuesTransformer=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(isValidValue):isValidValue(e)?e:""}}},commaLists=new TemplateTag(inlineArrayTransformer({separator:","}),stripIndentTransformer,trimResultTransformer),commaListsAnd=new TemplateTag(inlineArrayTransformer({separator:",",conjunction:"and"}),stripIndentTransformer,trimResultTransformer),commaListsOr=new TemplateTag(inlineArrayTransformer({separator:",",conjunction:"or"}),stripIndentTransformer,trimResultTransformer),html=new TemplateTag(splitStringTransformer("\n"),removeNonPrintingValuesTransformer,inlineArrayTransformer,stripIndentTransformer,trimResultTransformer),safeHtml=new TemplateTag(splitStringTransformer("\n"),inlineArrayTransformer,stripIndentTransformer,trimResultTransformer,replaceSubstitutionTransformer(/&/g,"&amp;"),replaceSubstitutionTransformer(/</g,"&lt;"),replaceSubstitutionTransformer(/>/g,"&gt;"),replaceSubstitutionTransformer(/"/g,"&quot;"),replaceSubstitutionTransformer(/'/g,"&#x27;"),replaceSubstitutionTransformer(/`/g,"&#x60;")),oneLine=new TemplateTag(replaceResultTransformer(/(?:\n(?:\s*))+/g," "),trimResultTransformer),oneLineTrim=new TemplateTag(replaceResultTransformer(/(?:\n\s*)/g,""),trimResultTransformer),oneLineCommaLists=new TemplateTag(inlineArrayTransformer({separator:","}),replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer),oneLineCommaListsOr=new TemplateTag(inlineArrayTransformer({separator:",",conjunction:"or"}),replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer),oneLineCommaListsAnd=new TemplateTag(inlineArrayTransformer({separator:",",conjunction:"and"}),replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer),inlineLists=new TemplateTag(inlineArrayTransformer,stripIndentTransformer,trimResultTransformer),oneLineInlineLists=new TemplateTag(inlineArrayTransformer,replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer),stripIndent=new TemplateTag(stripIndentTransformer,trimResultTransformer),stripIndents=new TemplateTag(stripIndentTransformer("all"),trimResultTransformer);function get_each_context_1(e,t,n){const a=Object.create(e);return a.choice=t[n],a}function get_each_context(e,t,n){const a=Object.create(e);return a.key=t[n][0],a.val=t[n][1],a.index=n,a}function create_if_block(e){var t,n,a,i,r,o,s,l,c,p=e.key+"",d=e.index;function _(e,t){return(null==r||e.props)&&(r=!!Array.isArray(t.val.type)),r?create_if_block_1:"number"===t.val.type?create_if_block_2:"string"===t.val.type?create_if_block_3:"auto"===t.val.type?create_if_block_4:void 0}var u=_(null,e),h=u&&u(e);const m=()=>e.div1_binding(i,d),f=()=>e.div1_binding(null,d);function v(...t){return e.mouseover_handler(e,...t)}return{c(){t=element("div"),n=text(p),a=space(),i=element("div"),h&&h.c(),o=space(),attr(t,"class","input-title svelte-189lgej"),attr(i,"class",s=null_to_empty(e.index!==Object.keys(e.props).length-1?"tooltip-left":"tooltip-up-left")+" svelte-189lgej"),attr(i,"data-tooltip",l=e.val.description),c=listen(i,"mouseover",v)},m(e,r){insert(e,t,r),append(t,n),insert(e,a,r),insert(e,i,r),h&&h.m(i,null),append(i,o),m()},p(t,a){e=a,t.props&&p!==(p=e.key+"")&&set_data(n,p),u===(u=_(t,e))&&h?h.p(t,e):(h&&h.d(1),(h=u&&u(e))&&(h.c(),h.m(i,o))),d!==e.index&&(f(),d=e.index,m()),t.props&&s!==(s=null_to_empty(e.index!==Object.keys(e.props).length-1?"tooltip-left":"tooltip-up-left")+" svelte-189lgej")&&attr(i,"class",s),t.props&&l!==(l=e.val.description)&&attr(i,"data-tooltip",l)},d(e){e&&(detach(t),detach(a),detach(i)),h&&h.d(),f(),c()}}}function create_if_block_4(e){var t,n;function a(){e.input_input_handler_2.call(t,e)}return{c(){attr(t=element("input"),"type","text"),t.disabled=!0,attr(t,"class","svelte-189lgej"),n=listen(t,"input",a)},m(n,a){insert(n,t,a),set_input_value(t,e.props[e.key].value)},p(n,a){e=a,n.props&&t.value!==e.props[e.key].value&&set_input_value(t,e.props[e.key].value)},d(e){e&&detach(t),n()}}}function create_if_block_3(e){var t,n;function a(){e.input_input_handler_1.call(t,e)}return{c(){attr(t=element("input"),"type","text"),attr(t,"class","svelte-189lgej"),n=listen(t,"input",a)},m(n,a){insert(n,t,a),set_input_value(t,e.props[e.key].value)},p(n,a){e=a,n.props&&t.value!==e.props[e.key].value&&set_input_value(t,e.props[e.key].value)},d(e){e&&detach(t),n()}}}function create_if_block_2(e){var t,n,a=!1;function i(){a=!0,e.input_input_handler.call(t,e)}return{c(){attr(t=element("input"),"type","number"),attr(t,"class","svelte-189lgej"),n=listen(t,"input",i)},m(n,a){insert(n,t,a),set_input_value(t,e.props[e.key].value)},p(n,i){e=i,!a&&n.props&&set_input_value(t,e.props[e.key].value),a=!1},d(e){e&&detach(t),n()}}}function create_if_block_1(e){var t,n;let a=e.val.type,i=[];for(let t=0;t<a.length;t+=1)i[t]=create_each_block_1(get_each_context_1(e,a,t));function r(){e.select_change_handler.call(t,e)}return{c(){t=element("select");for(let e=0;e<i.length;e+=1)i[e].c();void 0===e.props[e.key].value&&add_render_callback(r),n=listen(t,"change",r)},m(n,a){insert(n,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);select_option(t,e.props[e.key].value)},p(n,r){if(e=r,n.props){let r;for(a=e.val.type,r=0;r<a.length;r+=1){const o=get_each_context_1(e,a,r);i[r]?i[r].p(n,o):(i[r]=create_each_block_1(o),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}n.props&&select_option(t,e.props[e.key].value)},d(e){e&&detach(t),destroy_each(i,e),n()}}}function create_each_block_1(e){var t,n,a,i,r=e.choice+"";return{c(){t=element("option"),n=text(r),t.__value=a=e.choice,t.value=t.__value,t.selected=i=e.choice===e.val.value},m(e,a){insert(e,t,a),append(t,n)},p(e,o){e.props&&r!==(r=o.choice+"")&&set_data(n,r),e.props&&a!==(a=o.choice)&&(t.__value=a),t.value=t.__value,e.props&&i!==(i=o.choice===o.val.value)&&(t.selected=i)},d(e){e&&detach(t)}}}function create_each_block(e){var t,n=!e.isDisabled(e.key,e.props),a=n&&create_if_block(e);return{c(){a&&a.c(),t=empty()},m(e,n){a&&a.m(e,n),insert(e,t,n)},p(e,i){(e.isDisabled||e.props)&&(n=!i.isDisabled(i.key,i.props)),n?a?a.p(e,i):((a=create_if_block(i)).c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&detach(t)}}}function create_fragment(e){var t;let n=Object.entries(e.props),a=[];for(let t=0;t<n.length;t+=1)a[t]=create_each_block(get_each_context(e,n,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=empty()},m(e,n){for(let t=0;t<a.length;t+=1)a[t].m(e,n);insert(e,t,n)},p(e,i){if(e.isDisabled||e.props||e.items){let r;for(n=Object.entries(i.props),r=0;r<n.length;r+=1){const o=get_each_context(i,n,r);a[r]?a[r].p(e,o):(a[r]=create_each_block(o),a[r].c(),a[r].m(t.parentNode,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=n.length}},i:noop,o:noop,d(e){destroy_each(a,e),e&&detach(t)}}}function instance(e,t,n){let{props:a={},isDisabled:i=!1}=t,r=[];return e.$set=(e=>{"props"in e&&n("props",a=e.props),"isDisabled"in e&&n("isDisabled",i=e.isDisabled)}),{props:a,isDisabled:i,items:r,select_change_handler:function({key:e}){a[e].value=select_value(this),n("props",a)},input_input_handler:function({key:e}){a[e].value=to_number(this.value),n("props",a)},input_input_handler_1:function({key:e}){a[e].value=this.value,n("props",a)},input_input_handler_2:function({key:e}){a[e].value=this.value,n("props",a)},div1_binding:function(e,t){r[t]!==e&&binding_callbacks[e?"unshift":"push"](()=>{r[t]=e,n("items",r)})},mouseover_handler:({index:e},t)=>{let n=r[e],a=n.getBoundingClientRect(),i=window.getComputedStyle(n,":after");n.style.setProperty("--position-right",`${a.left-5}px`),n.style.setProperty("--position-top",`${a.top+parseInt(i.getPropertyValue("height"))>window.innerHeight?window.innerHeight-parseInt(i.getPropertyValue("height"))-10:a.top}px`)}}}class ParamsBuilder extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,["props","isDisabled"])}}function get_each_context$1(e,t,n){const a=Object.create(e);return a.win=t[n],a.i=n,a}function create_each_block$1(e){var t,n,a,i,r=e.win.meta.name+"";function o(){return e.click_handler_1(e)}return{c(){t=element("div"),n=element("p"),a=text(r),set_style(n,"justify-self","center"),set_style(n,"align-self","center"),set_style(n,"margin","0"),set_style(n,"position","absolute"),attr(t,"class","window"),set_style(t,"height","100%"),set_style(t,"flex-grow",e.win.data.AG_WINDOW_LENGTH.value),set_style(t,"background-color",e.win.meta.color),set_style(t,"border-right",e.i!==e.windows.length-1?"1px solid black":"none"),set_style(t,"display","grid"),set_style(t,"position","relative"),set_style(t,"box-shadow",e.anim.windowIndex==e.i?"inset 0 0 5px black":"none"),i=listen(t,"click",o)},m(e,i){insert(e,t,i),append(t,n),append(n,a)},p(n,i){e=i,n.windows&&r!==(r=e.win.meta.name+"")&&set_data(a,r),n.windows&&(set_style(t,"flex-grow",e.win.data.AG_WINDOW_LENGTH.value),set_style(t,"background-color",e.win.meta.color),set_style(t,"border-right",e.i!==e.windows.length-1?"1px solid black":"none")),n.anim&&set_style(t,"box-shadow",e.anim.windowIndex==e.i?"inset 0 0 5px black":"none")},d(e){e&&detach(t),i()}}}function create_if_block_3$1(e){var t,n;return{c(){attr(t=element("input"),"type","text"),n=listen(t,"input",e.input_input_handler_2)},m(n,a){insert(n,t,a),set_input_value(t,e.hitboxes[e.hitboxes.selected].meta.name)},p(e,n){e.hitboxes&&t.value!==n.hitboxes[n.hitboxes.selected].meta.name&&set_input_value(t,n.hitboxes[n.hitboxes.selected].meta.name)},d(e){e&&detach(t),n()}}}function create_if_block_2$1(e){var t,n;return{c(){attr(t=element("input"),"type","text"),n=listen(t,"input",e.input_input_handler_1)},m(n,a){insert(n,t,a),set_input_value(t,e.windows[e.anim.windowIndex].meta.name)},p(e,n){(e.windows||e.anim)&&t.value!==n.windows[n.anim.windowIndex].meta.name&&set_input_value(t,n.windows[n.anim.windowIndex].meta.name)},d(e){e&&detach(t),n()}}}function create_if_block_1$1(e){var t,n;return{c(){attr(t=element("input"),"type","text"),n=listen(t,"input",e.input_input_handler_4)},m(n,a){insert(n,t,a),set_input_value(t,e.hitboxes[e.hitboxes.selected].meta.color)},p(e,n){e.hitboxes&&t.value!==n.hitboxes[n.hitboxes.selected].meta.color&&set_input_value(t,n.hitboxes[n.hitboxes.selected].meta.color)},d(e){e&&detach(t),n()}}}function create_if_block$1(e){var t,n;return{c(){attr(t=element("input"),"type","text"),n=listen(t,"input",e.input_input_handler_3)},m(n,a){insert(n,t,a),set_input_value(t,e.windows[e.anim.windowIndex].meta.color)},p(e,n){(e.windows||e.anim)&&t.value!==n.windows[n.anim.windowIndex].meta.color&&set_input_value(t,n.windows[n.anim.windowIndex].meta.color)},d(e){e&&detach(t),n()}}}function create_fragment$1(e){var t,n,a,i,r,o,s,l,c,p,d,_,u,h,m,f,v,b,g,w,y,x,T,I,A,k,H,G,E,O,S,N,P,W,D,R,M,C,F,X,L,z,$,B,Y,U,j,V,K,J,q,Z,Q,ee,te,ne,ae,ie,re,oe,se=!1,le=e.anim.animFrame+1+"",ce=e.anim.duration+"",pe=e.anim.windowIndex+1+"",de=e.windows.length+"",_e=e.anim.playing?"pause":"play_arrow";function ue(){se=!0,e.input_input_handler.call(a)}let he=e.windows,me=[];for(let t=0;t<he.length;t+=1)me[t]=create_each_block$1(get_each_context$1(e,he,t));function fe(e,t){return"window"===t.editingMode?create_if_block_2$1:"hitbox"===t.editingMode?create_if_block_3$1:void 0}var ve=fe(0,e),be=ve&&ve(e);function ge(e,t){return"window"===t.editingMode?create_if_block$1:"hitbox"===t.editingMode?create_if_block_1$1:void 0}var we=ge(0,e),ye=we&&we(e);return{c(){t=element("div"),n=element("div"),a=element("input"),r=space(),o=element("p"),s=text("frame: "),l=element("label"),c=text(le),d=text(" / "),_=text(ce),u=text(";"),h=space(),m=element("div"),f=text("window: "),v=text(pe),b=text(" / "),g=text(de),w=space(),(y=element("button")).innerHTML='<i class="material-icons svelte-1v3rt8w">add</i>',x=space(),T=element("button"),(I=element("i")).textContent="delete",k=space(),H=element("div"),(G=element("button")).innerHTML='<i class="material-icons svelte-1v3rt8w">loop</i>',E=space(),O=element("button"),(S=element("i")).textContent="skip_previous",P=space(),W=element("button"),D=element("i"),R=text(_e),M=space(),C=element("button"),(F=element("i")).textContent="skip_next",L=space(),z=element("div"),$=text("playback speed:\r\n\t\t\t"),B=element("select"),(Y=element("option")).textContent="1/4x",(U=element("option")).textContent="1/2x",(j=element("option")).textContent="1x",V=space(),K=element("div");for(let e=0;e<me.length;e+=1)me[e].c();J=space(),q=element("div"),Z=space(),Q=element("div"),ee=element("div"),te=element("label"),ne=text("name:\r\n\t\t\t\t"),be&&be.c(),ae=space(),ie=element("label"),re=text("color:\r\n\t\t\t\t"),ye&&ye.c(),attr(a,"type","number"),attr(a,"id","current-frame"),attr(a,"min","0"),attr(a,"max",i=e.anim.duration-1),attr(a,"class","svelte-1v3rt8w"),set_style(l,"width",10*e.anim.duration.toString().length+10+"px"),attr(l,"id","current-frame-label"),attr(l,"class",p=null_to_empty(e.isCurrentFrameFocused?"active":"")+" svelte-1v3rt8w"),attr(l,"for","current-frame"),set_style(o,"width","150px"),set_style(o,"margin","0"),set_style(o,"display","inline-block"),attr(I,"class","material-icons svelte-1v3rt8w"),T.disabled=A=e.windows.length<=1,attr(T,"class","svelte-1v3rt8w"),set_style(m,"width","400px"),set_style(m,"margin","0"),set_style(m,"display","inline-block"),attr(n,"class","option-group svelte-1v3rt8w"),set_style(n,"justify-self","left"),attr(S,"class","material-icons svelte-1v3rt8w"),O.disabled=N=0===e.anim.animFrame,attr(O,"class","svelte-1v3rt8w"),attr(D,"class","material-icons svelte-1v3rt8w"),attr(F,"class","material-icons svelte-1v3rt8w"),C.disabled=X=e.anim.animFrame===e.anim.duration-1,attr(C,"class","svelte-1v3rt8w"),attr(H,"class","option-group svelte-1v3rt8w"),set_style(H,"justify-self","center"),Y.__value="0.25",Y.value=Y.__value,U.__value="0.5",U.value=U.__value,j.__value="1",j.value=j.__value,j.selected=!0,void 0===e.anim.playSpeed&&add_render_callback(()=>e.select_change_handler.call(B)),attr(z,"class","option-group svelte-1v3rt8w"),set_style(z,"justify-self","right"),attr(t,"id","timeline-controls"),attr(t,"class","svelte-1v3rt8w"),attr(q,"id","playhead"),set_style(q,"height","100%"),set_style(q,"width","2px"),set_style(q,"background-color","#8888"),set_style(q,"box-shadow","0 0 0 1px #000"),set_style(q,"position","absolute"),set_style(q,"margin-left",(0!=e.anim.duration?100*e.anim.animFrame/e.anim.duration:0)+"%"),attr(K,"id","timeline"),attr(K,"class","svelte-1v3rt8w"),set_style(te,"display","inline-block"),set_style(ie,"display","inline-block"),attr(ee,"class","option-group svelte-1v3rt8w"),attr(Q,"id","window-metadata"),attr(Q,"class","svelte-1v3rt8w"),oe=[listen(a,"input",ue),listen(a,"focus",e.focus_handler),listen(a,"blur",e.blur_handler),listen(y,"click",e.handleWindowAddition),listen(T,"click",e.handleWindowDeletion),listen(G,"click",e.click_handler),listen(O,"click",e.skipBack),listen(W,"click",e.startPlaying),listen(C,"click",e.skipAhead),listen(B,"change",e.select_change_handler)]},m(i,p){insert(i,t,p),append(t,n),append(n,a),set_input_value(a,e.anim.animFrame),append(n,r),append(n,o),append(o,s),append(o,l),append(l,c),e.label0_binding(l),append(o,d),append(o,_),append(o,u),append(n,h),append(n,m),append(m,f),append(m,v),append(m,b),append(m,g),append(m,w),append(m,y),append(m,x),append(m,T),append(T,I),append(t,k),append(t,H),append(H,G),append(H,E),append(H,O),append(O,S),append(H,P),append(H,W),append(W,D),append(D,R),append(H,M),append(H,C),append(C,F),append(t,L),append(t,z),append(z,$),append(z,B),append(B,Y),append(B,U),append(B,j),select_option(B,e.anim.playSpeed),insert(i,V,p),insert(i,K,p);for(let e=0;e<me.length;e+=1)me[e].m(K,null);append(K,J),append(K,q),insert(i,Z,p),insert(i,Q,p),append(Q,ee),append(ee,te),append(te,ne),be&&be.m(te,null),append(ee,ae),append(ee,ie),append(ie,re),ye&&ye.m(ie,null)},p(e,t){if(!se&&e.anim&&set_input_value(a,t.anim.animFrame),se=!1,e.anim&&i!==(i=t.anim.duration-1)&&attr(a,"max",i),e.anim&&le!==(le=t.anim.animFrame+1+"")&&set_data(c,le),e.anim&&set_style(l,"width",10*t.anim.duration.toString().length+10+"px"),e.isCurrentFrameFocused&&p!==(p=null_to_empty(t.isCurrentFrameFocused?"active":"")+" svelte-1v3rt8w")&&attr(l,"class",p),e.anim&&ce!==(ce=t.anim.duration+"")&&set_data(_,ce),e.anim&&pe!==(pe=t.anim.windowIndex+1+"")&&set_data(v,pe),e.windows&&de!==(de=t.windows.length+"")&&set_data(g,de),e.windows&&A!==(A=t.windows.length<=1)&&(T.disabled=A),e.anim&&N!==(N=0===t.anim.animFrame)&&(O.disabled=N),e.anim&&_e!==(_e=t.anim.playing?"pause":"play_arrow")&&set_data(R,_e),e.anim&&X!==(X=t.anim.animFrame===t.anim.duration-1)&&(C.disabled=X),e.anim&&select_option(B,t.anim.playSpeed),e.windows||e.anim){let n;for(he=t.windows,n=0;n<he.length;n+=1){const a=get_each_context$1(t,he,n);me[n]?me[n].p(e,a):(me[n]=create_each_block$1(a),me[n].c(),me[n].m(K,J))}for(;n<me.length;n+=1)me[n].d(1);me.length=he.length}e.anim&&set_style(q,"margin-left",(0!=t.anim.duration?100*t.anim.animFrame/t.anim.duration:0)+"%"),ve===(ve=fe(0,t))&&be?be.p(e,t):(be&&be.d(1),(be=ve&&ve(t))&&(be.c(),be.m(te,null))),we===(we=ge(0,t))&&ye?ye.p(e,t):(ye&&ye.d(1),(ye=we&&we(t))&&(ye.c(),ye.m(ie,null)))},i:noop,o:noop,d(n){n&&detach(t),e.label0_binding(null),n&&(detach(V),detach(K)),destroy_each(me,n),n&&(detach(Z),detach(Q)),be&&be.d(),ye&&ye.d(),run_all(oe)}}}function instance$1(e,t,n){let a,{anim:i,windows:r,hitboxes:o,skipAhead:s,skipBack:l,editingMode:c,winProps:p}=t,d=!1;const _=()=>{i.playing&&setTimeout(()=>{i.animFrame+1===i.duration?(n("anim",i.animFrame=0,i),i.loop||n("anim",i.playing=!1,i)):n("anim",i.animFrame+=1,i),requestAnimationFrame(_)},1e3/60*(1/i.playSpeed))};return e.$set=(e=>{"anim"in e&&n("anim",i=e.anim),"windows"in e&&n("windows",r=e.windows),"hitboxes"in e&&n("hitboxes",o=e.hitboxes),"skipAhead"in e&&n("skipAhead",s=e.skipAhead),"skipBack"in e&&n("skipBack",l=e.skipBack),"editingMode"in e&&n("editingMode",c=e.editingMode),"winProps"in e&&n("winProps",p=e.winProps)}),{anim:i,windows:r,hitboxes:o,skipAhead:s,skipBack:l,editingMode:c,winProps:p,currentFrameLabel:a,isCurrentFrameFocused:d,startPlaying:()=>{n("anim",i.playing=!i.playing,i),i.playing&&_()},handleWindowAddition:()=>{r.splice(i.windowIndex,0,{meta:{},data:JSON.parse(JSON.stringify({...p}))}),n("anim",i)},handleWindowDeletion:()=>{r.splice(i.windowIndex,1),n("anim",i.animFrame=i.windowPositions[i.windowIndex-1]||0,i)},input_input_handler:function(){i.animFrame=to_number(this.value),n("anim",i)},focus_handler:e=>{n("isCurrentFrameFocused",d=!0),e.target.select()},blur_handler:()=>n("isCurrentFrameFocused",d=!1),label0_binding:function(e){binding_callbacks[e?"unshift":"push"](()=>{n("currentFrameLabel",a=e)})},click_handler:()=>{n("anim",i.loop=!i.loop,i)},select_change_handler:function(){i.playSpeed=select_value(this),n("anim",i)},click_handler_1:({i:e})=>{n("anim",i.animFrame=i.windowPositions[e],i),n("editingMode",c="window")},input_input_handler_1:function(){r[i.windowIndex].meta.name=this.value,n("windows",r),n("anim",i)},input_input_handler_2:function(){o[o.selected].meta.name=this.value,n("hitboxes",o)},input_input_handler_3:function(){r[i.windowIndex].meta.color=this.value,n("windows",r),n("anim",i)},input_input_handler_4:function(){o[o.selected].meta.color=this.value,n("hitboxes",o)}}}class Timeline extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,["anim","windows","hitboxes","skipAhead","skipBack","editingMode","winProps"])}}var winProps={AG_WINDOW_TYPE:{value:0,description:stripIndent`
        0 = Normal
        7 = Goes into pratfall
        8 = Goes to the next window if it’s on the ground, otherwise loops
        9 = Looping window
        `,type:[0,7,8,9]},AG_WINDOW_LENGTH:{value:5,description:"The duration of the window, in frames",type:"number"},AG_WINDOW_ANIM_FRAMES:{value:1,description:"The number of animation frames to display over the duration of the window",type:"number"},AG_WINDOW_ANIM_FRAME_START:{value:0,description:"The animation frame on which the window starts",type:"number"},AG_WINDOW_HSPEED:{value:null,description:"The horizontal speed to apply during the window in pixels per frame. The type of speed boost depends on AG_WINDOW_HSPEED_TYPE",type:"number"},AG_WINDOW_VSPEED:{value:null,description:"The vertical speed to apply during the window in pixels per frame. The type of speed boost depends on AG_WINDOW_VSPEED_TYPE",type:"number"},AG_WINDOW_HSPEED_TYPE:{value:0,description:stripIndent`
        0 = AG_WINDOW_HSPEED is applied on top of your current momentum as a boost
        1 = Horizontal speed is set to AG_WINDOW_HSPEED on every frame of the window
        2 = Horizontal speed is set to AG_WINDOW_HSPEED on the first frame of the window
        `,type:[0,1,2]},AG_WINDOW_VSPEED_TYPE:{value:0,description:stripIndent`
        0 = AG_WINDOW_VSPEED is applied on top of your current momentum as a boost
        1 = Vertical speed is set to AG_WINDOW_VSPEED on every frame of the window
        2 = Vertical speed is set to AG_WINDOW_VSPEED on the first frame of the window
        `,type:[0,1,2]},AG_WINDOW_HAS_CUSTOM_FRICTION:{value:0,description:stripIndent`
        0 = Uses default friction
        1 = Uses custom friction
        `,type:[0,1]},AG_WINDOW_CUSTOM_AIR_FRICTION:{value:null,description:"The horizontal friction to apply per frame while aerial. Only applies if AG_WINDOW_HAS_CUSTOM_FRICTION is 1",type:"number",dependencies:["obj.AG_WINDOW_HAS_CUSTOM_FRICTION.value === 1"]},AG_WINDOW_CUSTOM_GROUND_FRICTION:{value:null,description:"The horizontal friction to apply per frame while grounded. Only applies if AG_WINDOW_HAS_CUSTOM_FRICTION is 1",type:"number",dependencies:["obj.AG_WINDOW_HAS_CUSTOM_FRICTION.value === 1"]},AG_WINDOW_CUSTOM_GRAVITY:{value:null,description:"The gravitational acceleration to apply every frame of the window. Only applies if AG_USES_CUSTOM_GRAVITY is 1",type:"number"},AG_WINDOW_HAS_WHIFFLAG:{value:0,description:stripIndent`
        0 = Window is always the same length
        1 = Window is 1.5x longer if you haven’t hit someone
        `,type:[0,1]},AG_WINDOW_INVINCIBILITY:{value:0,description:stripIndent`
        0 = No invincibility
        1 = Invincible to all attacks
        2 = Invincible to projectiles
        `,type:[0,1,2]},AG_WINDOW_HITPAUSE_FRAME:{value:0,description:"The animation frame to show during hitpause; 0 = no specific frame",type:"number"},AG_WINDOW_CANCEL_TYPE:{value:0,description:stripIndent`
        0 = Window does not cancel
        1 = Cancels into the next window if attack is pressed (when on a jab, this allows it to be tilt-cancelled)
        2 = Cancels into the next window if special is pressed
        Cancels do not work if AG_WINDOW_TYPE is 8
        `,type:[0,1,2]},AG_WINDOW_CANCEL_FRAME:{value:null,description:"If AG_WINDOW_CANCEL_TYPE is greater than 0, the attack will become cancellable on this frame",type:"number",dependencies:["obj.AG_WINDOW_CANCEL_TYPE.value !== 0"]},AG_WINDOW_HAS_SFX:{value:0,description:stripIndent`
        0 = Does not have a sound effect
        1 = Has a sound effect
        `,type:[0,1]},AG_WINDOW_SFX:{value:null,description:"The index of the sound effect. Only applies if AG_WINDOW_HAS_SFX is 1",type:"number",dependencies:["obj.AG_WINDOW_HAS_SFX.value == 1"]},AG_WINDOW_SFX_FRAME:{value:null,description:"The frame in the window that the sound effect is played. Only applies if AG_WINDOW_HAS_SFX is 1",type:"number",dependencies:["obj.AG_WINDOW_HAS_SFX.value == 1"]}};const isDisabled=(prop,obj)=>{let deps=obj[prop].dependencies;if(!deps)return!1;for(const condition of deps)if(!eval(condition))return!0;return!1};var hitboxProps={HG_PARENT_HITBOX:{value:0,description:stripIndent`
        If HG_PARENT_HITBOX is anything other than 0, then it will inherit all values from the hitbox with index: HG_PARENT_HITBOX for all properties except the following:
        HG_HITBOX_TYPE
        HG_WINDOW
        HG_WINDOW_CREATION_FRAME
        HG_LIFETIME
        HG_HITBOX_X
        HG_HITBOX_Y
        HG_HITBOX_GROUP
        `,type:"number"},HG_HITBOX_TYPE:{value:1,description:stripIndent`
        1 = Physical attack
        2 = Projectile
        `,type:[1,2]},HG_WINDOW:{value:0,description:stripIndent`
        The attack window in which the hitbox is created
        `,type:"number"},HG_WINDOW_CREATION_FRAME:{value:0,description:stripIndent`
        The frame in which the hitbox is created, relative to the start of the attack window
        `,type:"number"},HG_LIFETIME:{value:1,description:stripIndent`
        The duration of the hitbox, in frames
        `,type:"number"},HG_HITBOX_X:{value:0,description:stripIndent`
        The x position of the center of the hitbox, relative to the center of the player
        `,type:"number"},HG_HITBOX_Y:{value:0,description:stripIndent`
        The y position of the center of the hitbox, relative to the bottom of the player
        `,type:"number"},HG_WIDTH:{value:1,description:stripIndent`
        The width of the hitbox, in pixels
        `,type:"number"},HG_HEIGHT:{value:1,description:stripIndent`
        The height of the hitbox, in pixels
        `,type:"number"},HG_SHAPE:{value:0,description:stripIndent`
        0 = Circle (hitbox_circle_spr)
        1 = Rectangle (hitbox_square_spr)
        2 = Rounded Rectangle (hitbox_rounded_rectangle)
        `,type:[0,1,2]},HG_PRIORITY:{value:1,description:stripIndent`
        Ranges from 1 to 10, with a priority 10 hitbox taking priority over a priority 1 hitbox if both hit at the same time
        `,type:[1,2,3,4,5,6,7,8,9,10]},HG_DAMAGE:{value:0,description:stripIndent`
        The damage dealt by the hitbox
        `,type:"number"},HG_ANGLE:{value:0,description:stripIndent`
        The angle at which the hitbox sends opponents. 
        0 is straight horizontally forward, 90 is upward, 270 is downward. 
        A value of 361 will send at 45 for aerial opponents and 40 for grounded opponents. 
        Can be overwritten or modified by HG_ANGLE_FLIPPER
        `,type:"number"},HG_BASE_KNOCKBACK:{value:0,description:stripIndent`
        The amount of knockback the move applies to an opponent regardless of their damage
        `,type:"number"},HG_KNOCKBACK_SCALING:{value:0,description:stripIndent`
        The amount of knockback to add to HG_BASE_KNOCKBACK relative to the opponent’s damage
        `,type:"number"},HG_EFFECT:{value:0,description:stripIndent`
        1 = Burn
        2 = Burn consume
        3 = Burn stun (extra hitpause on burning opponents. Used to guarantee the final hit on Zetterburn’s empowered strong attack)
        4 = Wrap
        5 = Freeze
        6 = Mark
        8 = Auto Wrap
        9 = Polite (only deals hitstun if already in hitstun)
        10 = Poison
        11 = Plasma Stun
        12 = Crouch armors through it
        `,type:[0,1,2,3,4,5,6,7,8,9,10,11,12]},HG_BASE_HITPAUSE:{value:0,description:stripIndent`
        The amount of hitpause the move applies to an opponent regardless of their damage
        `,type:"number"},HG_HITPAUSE_SCALING:{value:0,description:stripIndent`
        The amount of hitpause to add to HG_BASE_HITPAUSE relative to the opponent’s damage
        `,type:"number"},HG_VISUAL_EFFECT:{value:0,description:stripIndent`
        The visual effect to create when the hitbox hits something
        `,type:"number"},HG_VISUAL_EFFECT_X_OFFSET:{value:0,description:stripIndent`
        Normally, the visual effect is created between the center of the hitbox and the opponent’s position. 
        The value here adds an offset to the center of the hitbox in that calculation
        `,type:"number"},HG_VISUAL_EFFECT_Y_OFFSET:{value:0,description:stripIndent`
        Normally, the visual effect is created between the center of the hitbox and the opponent’s position. 
        The value here adds an offset to the center of the hitbox in that calculation
        `,type:"number"},HG_HIT_SFX:{value:0,description:stripIndent`
        The index of the sound effect to play when the attack hits
        `,type:"number"},HG_ANGLE_FLIPPER:{value:0,description:stripIndent`
        0 = Sends at the exact knockback_angle every time
        1 = Sends away from the center of the enemy player
        2 = Sends toward the center of the enemy player
        3 = Horizontal knockback sends away from the center of the hitbox
        4 = Horizontal knockback sends toward the center of the hitbox
        5 = Horizontal knockback is reversed
        6 = Horizontal knockback sends away from the enemy player
        7 = Horizontal knockback sends toward the enemy player
        8 = Sends away from the center of the hitbox
        9 = Sends toward the center of the hitbox
        `,type:[0,1,2,3,4,5,6,7,8,9]},HG_EXTRA_HITPAUSE:{value:0,description:stripIndent`
        Extra hitpause to apply to the opponent only. Can be negative
        `,type:"number"},HG_GROUNDEDNESS:{value:0,description:stripIndent`
        0 = Can hit both aerial and grounded opponents
        1 = Can only hit grounded opponents
        2 = Can only hit aerial opponents
        `,type:[0,1,2]},HG_EXTRA_CAMERA_SHAKE:{value:0,description:stripIndent`
        -1 = No camera shake
        0 = Normal camera shake. Only applied if knockback speed is above 1
        1 = Force camera shake, even if knockback speed is lower than 1
        `,type:[-1,0,1]},HG_IGNORES_PROJECTILES:{value:0,description:stripIndent`
        0 = Can break projectiles
        1 = Cannot break projectiles
        `,type:[0,1]},HG_HIT_LOCKOUT:{value:0,description:stripIndent`
        The number of frames after this hitbox connects where another hitbox belonging to the same player cannot hit the opponent
        `,type:"number"},HG_EXTENDED_PARRY_STUN:{value:0,description:stripIndent`
        When this hitbox is parried, the amount of parry stun inflicted on the opponent will be relative to the distance between you
        `,type:"number"},HG_HITBOX_GROUP:{value:0,description:stripIndent`
        Only one hitbox per group can hit an opponent until the attack ends. 
        This can be overwritten by calling attack_end() to manually reset all hitbox group flags. 
        Hitboxes in group -1 can always hit an opponent. Projectiles always belong to group -1
        `,type:"number"},HG_HITSTUN_MULTIPLIER:{value:0,description:stripIndent`
        The value by which hitstun is multiplied after being calculated normally. 
        A value of 0 results in default hitstun (the same as a value of 1)
        `,type:"number"},HG_DRIFT_MULTIPLIER:{value:1,description:stripIndent`
        Causes the acceleration of the opponent’s drift DI to be multiplied by this value
        `,type:"number"},HG_SDI_MULTIPLIER:{value:1,description:stripIndent`
        Causes the distance of the opponent’s SDI to be multiplied by this value.
        `,type:"number"},HG_TECHABLE:{value:0,description:stripIndent`
        0 = Can tech
        1 = Cannot tech
        2 = Goes through platforms (used by Etalus Uair)
        3 = Cannot tech or bounce
        `,type:[0,1,2,3]},HG_FORCE_FLINCH:{value:0,description:stripIndent`
        0 = Does not force flinch
        1 = Forces grounded opponents to flinch
        2 = Cannot cause opponents to flinch
        3 = Causes crouching opponents to flinch
        `,type:[0,1,2,3]},HG_FINAL_BASE_KNOCKBACK:{value:0,description:stripIndent`
        If this is greater than 0, the base knockback of the hitbox will progress linearly from HG_BASE_KNOCKBACK to HG_FINAL_BASE_KNOCKBACK over the span of the hitbox’s lifetime
        `,type:"number"},HG_THROWS_ROCK:{value:0,description:stripIndent`
        0 = Breaks rock
        1 = Throws rock
        2 = Ignores rock
        `,type:[0,1,2]},HG_PROJECTILE_SPRITE:{value:"...",description:stripIndent`
        The sprite to loop for the projectile’s animation
        `,type:"string",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_MASK:{value:"...",description:stripIndent`
        The sprite to use for the projectile’s collision (uses precise collision). Set to -1 to use normal hitbox collision with HG_SHAPE
        `,type:"string",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_ANIM_SPEED:{value:.5,description:stripIndent`
        The speed at which the projectile’s sprite will animate
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_HSPEED:{value:1,description:stripIndent`
        The initial horizontal speed of the projectile in pixels per frame
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_VSPEED:{value:0,description:stripIndent`
        The initial vertical speed of the projectile in pixels per frame
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_GRAVITY:{value:0,description:stripIndent`
        The downward acceleration applied to the projectile every frame
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_GROUND_FRICTION:{value:0,description:stripIndent`
        The decrease in horizontal speed per frame when the projectile is grounded
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_AIR_FRICTION:{value:0,description:stripIndent`
        The decrease in horizontal speed per frame when the projectile is aerial
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_WALL_BEHAVIOR:{value:0,description:stripIndent`
        0 = Stops at walls
        1 = Goes through walls
        2 = Bounces off walls
        `,type:[0,1,2],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_GROUND_BEHAVIOR:{value:0,description:stripIndent`
        0 = Stops at ground
        1 = Goes through ground
        2 = Bounces off ground
        `,type:[0,1,2],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_ENEMY_BEHAVIOR:{value:0,description:stripIndent`
        0 = Stops at enemies
        1 = Goes through enemies
        `,type:[0,1],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_UNBASHABLE:{value:1,description:stripIndent`
        Whether a projectile can be caught by Ori’s bash
        `,type:[0,1],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_PARRY_STUN:{value:0,description:stripIndent`
        Whether parrying the projectile will cause the owner to go into parry stun or not
        `,type:[0,1],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_DOES_NOT_REFLECT:{value:0,description:stripIndent`
        If true, the projectile will not reflect or change ownership when parried
        `,type:[0,1],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_IS_TRANSCENDENT:{value:0,description:stripIndent`
        If true, the projectile will not be breakable by other hitboxes
        `,type:[0,1],dependencies:["obj.HG_HITBOX_TYPE.value == 2"]},HG_PROJECTILE_DESTROY_EFFECT:{value:0,description:stripIndent`
        The visual effect to use when the projectile is destroyed
        `,type:"number",dependencies:["obj.HG_HITBOX_TYPE.value == 2"]}},atkDataProps={ATK_INDEX:{value:0,description:stripIndent`
        1: AT_JAB
        4: AT_FTILT
        5: AT_DTILT
        6: AT_UTILT
        7: AT_FSTRONG
        8: AT_DSTRONG
        9: AT_USTRONG
        10: AT_DATTACK
        11: AT_FAIR
        12: AT_BAIR
        13: AT_DAIR
        14: AT_UAIR
        15: AT_NAIR
        16: AT_FSPECIAL
        17: AT_DSPECIAL
        18: AT_USPECIAL
        19: AT_NSPECIAL
        20: AT_FSTRONG_2
        21: AT_DSTRONG_2
        22: AT_USTRONG_2
        23: AT_USPECIAL_GROUND
        24: AT_USPECIAL_2
        25: AT_FSPECIAL_2
        26: AT_FTHROW
        27: AT_UTHROW
        28: AT_DTHROW
        29: AT_NTHROW
        30: AT_DSPECIAL_2
        31: AT_EXTRA_1
        32: AT_DSPECIAL_AIR
        33: AT_NSPECIAL_2
        34: AT_FSPECIAL_AIR
        35: AT_TAUNT
        36: AT_TAUNT_2
        37: AT_EXTRA_2
        38: AT_EXTRA_3
        41: AT_NSPECIAL_AIR
        `,type:"number"},AG_CATEGORY:{value:0,description:stripIndent`
        0 = Grounded only
        1 = Aerial only
        2 = Can be grounded or aerial
        `,type:[0,1,2]},AG_SPRITE:{value:"--REPLACE_ME--",description:stripIndent`
        The sprite to use for the attack
        `,type:"string"},AG_AIR_SPRITE:{value:"--REPLACE_ME--",description:stripIndent`
        The sprite to use for the attack while aerial. 
        Only applies if AG_CATEGORY is 2
        `,type:"string"},AG_HURTBOX_SPRITE:{value:"--REPLACE_ME--",description:stripIndent`
        The sprite to use for the attack's hurtbox
        `,type:"string"},AG_HURTBOX_AIR_SPRITE:{value:"--REPLACE_ME--",description:stripIndent`
        The sprite to use for the attack's hurtbox while aerial.
        Only applies if AG_CATEGORY is 2
        `,type:"string"},AG_NUM_WINDOWS:{value:0,description:stripIndent`
        Windows with indexes higher than this value will not naturally transition into later windows
        `,type:"auto"},AG_HAS_LANDING_LAG:{value:0,description:stripIndent`
        Only applies if AG_CATEGORY is 1
        0 = Continues the attack when landing
        1 = Applies landing lag normally
        `,type:[0,1]},AG_OFF_LEDGE:{value:0,description:stripIndent`
        0 = Stops at ledge
        1 = Goes off ledge
        `,type:[0,1]},AG_LANDING_LAG:{value:0,description:stripIndent`
        The number of landing lag frames applied when landing. 
        If you whiff the attack, this value is multiplied by 1.5.
        Only applies if AG_HAS_LANDING_LAG is 1
        `,type:"number"},AG_STRONG_CHARGE_WINDOW:{value:0,description:stripIndent`
        If attack is held at the end of this window, the character will freeze and charge the attack before moving to the next window
        `,type:"number"},AG_USES_CUSTOM_GRAVITY:{value:0,description:stripIndent`
        0 = Attack uses default gravity
        1 = Attack uses custom gravity. 
        Values must be set for every window of the attack individually
        `,type:[0,1]}};const velocityAtFrameGrav=(e,t,n)=>e*n+t,setAtkValTemplate="set_attack_value(__ATKNAME__, __AGINDEX__, __VALUE__);",setAtkValSpriteTemplate='set_attack_value(__ATKNAME__, __AGINDEX__, sprite_get("__VALUE__"));',setWinValTemplate="set_window_value(__ATKNAME__, __WINDOWNUM__, __AGINDEX__, __VALUE__);",setHbNumTempalte="set_num_hitboxes(__ATKNAME__, __VALUE__);",setHbValTemplate="set_hitbox_value(__ATKNAME__, __HITBOXNUM__, __HGINDEX__, __VALUE__);",spriteOffsetChangeTemplate='sprite_change_offset("--REPLACE_ME--", __VALUEX__, __VALUEY__)',ATK_INDEXES={1:"AT_JAB",4:"AT_FTILT",5:"AT_DTILT",6:"AT_UTILT",7:"AT_FSTRONG",8:"AT_DSTRONG",9:"AT_USTRONG",10:"AT_DATTACK",11:"AT_FAIR",12:"AT_BAIR",13:"AT_DAIR",14:"AT_UAIR",15:"AT_NAIR",16:"AT_FSPECIAL",17:"AT_DSPECIAL",18:"AT_USPECIAL",19:"AT_NSPECIAL",20:"AT_FSTRONG_2",21:"AT_DSTRONG_2",22:"AT_USTRONG_2",23:"AT_USPECIAL_GROUND",24:"AT_USPECIAL_2",25:"AT_FSPECIAL_2",26:"AT_FTHROW",27:"AT_UTHROW",28:"AT_DTHROW",29:"AT_NTHROW",30:"AT_DSPECIAL_2",31:"AT_EXTRA_1",32:"AT_DSPECIAL_AIR",33:"AT_NSPECIAL_2",34:"AT_FSPECIAL_AIR",35:"AT_TAUNT",36:"AT_TAUNT_2",37:"AT_EXTRA_2",38:"AT_EXTRA_3",41:"A,T_NSPECIAL_AIR"};var exporter=(e,t,n,a)=>{let i,r="",o="",s="";i=Object.keys(ATK_INDEXES).includes(parseInt(t.ATK_INDEX.value))?ATK_INDEXES[parseInt(t.ATK_INDEX.value)]:t.ATK_INDEX.value;for(const[t,n]of Object.entries(e))switch(t){case"sprite_offset_x":case"sprite_offset_y":case"position_locked":continue;default:r+=`${t} = ${n.value};\n`}o+=spriteOffsetChangeTemplate.replace("__VALUEX__",e.sprite_offset_x.value).replace("__VALUEY__",-1*e.sprite_offset_y.value)+"\n";for(const[e,n]of Object.entries(t))if(0!==n.value)switch(e){case"ATK_INDEX":continue;case"AG_SPRITE":case"AG_AIR_SPRITE":case"AG_HURTBOX_SPRITE":case"AG_HURTBOX_AIR_SPRITE":s+=setAtkValSpriteTemplate.replace("__ATKNAME__",i).replace("__AGINDEX__",e).replace("__VALUE__",n.value)+"\n";break;default:s+=setAtkValTemplate.replace("__ATKNAME__",i).replace("__AGINDEX__",e).replace("__VALUE__",n.value)+"\n"}s+=`\nset_attack_value(${i}, AG_NUM_WINDOWS, ${n.length});\n`;for(const[e,t]of n.entries()){for(const[n,a]of Object.entries(t.data))[null,void 0,"...",0].includes(a.value)||(s+=setWinValTemplate.replace("__ATKNAME__",i).replace("__WINDOWNUM__",e+1).replace("__AGINDEX__",n).replace("__VALUE__",a.value)+"\n");s+="\n"}s+="\n"+setHbNumTempalte.replace("__ATKNAME__",i).replace("__VALUE__",a.length)+"\n";const l=a.sort((e,t)=>e.data.HG_WINDOW.value<t.data.HG_WINDOW.value?-1:e.data.HG_WINDOW.value>t.data.HG_WINDOW.value?1:e.data.HG_WINDOW_CREATION_FRAME.value<t.data.HG_WINDOW_CREATION_FRAME.value?-1:e.data.HG_WINDOW_CREATION_FRAME.value>t.data.HG_WINDOW_CREATION_FRAME.value?1:0);for(const[t,n]of l.entries()){for(const[a,r]of Object.entries(n.data))[null,void 0,"...",0].includes(r.value)&&!["HG_WINDOW_CREATION_FRAME","HG_WINDOW"].includes(a)||("HG_HITBOX_X"===a?r.value-=e.sprite_offset_x.value:"HG_HITBOX_Y"===a?r.value+=e.sprite_offset_y.value:"HG_WINDOW"===a?r.value++:"HG_WINDOW_CREATION_FRAME"===a&&r.value++,s+=setHbValTemplate.replace("__ATKNAME__",i).replace("__HITBOXNUM__",t+1).replace("__HGINDEX__",a).replace("__VALUE__",r.value)+"\n");s+="\n"}return{out_LOAD:o,out_INIT:r,out_ATK:s}};function get_each_context$2(e,t,n){const a=Object.create(e);return a.hitbox=t[n],a.each_value=t,a.i=n,a}function get_each_context_1$1(e,t,n){const a=Object.create(e);return a.tool=t[n],a}function get_each_context_2(e,t,n){const a=Object.create(e);return a._=t[n],a.i=n,a}function create_each_block_2(e){var t,n;function a(){return e.click_handler_7(e)}return{c(){attr(t=element("div"),"class","frame"),set_style(t,"height",e.spritesheetSrc.dimensions.height+"px"),set_style(t,"width",e.calc.frameWidth+"px"),set_style(t,"background-color","white"),set_style(t,"background-image","url('"+e.spritesheetSrc.dataUrl+"')"),set_style(t,"background-position","-"+e.calc.frameWidth*e.i+"px 0"),set_style(t,"box-shadow",e.anim.spriteFrame%e.spritesheetSrc.framecount==e.i?"inset 0 0 5px black":"none"),set_style(t,"border-right","2px solid black"),set_style(t,"display","inline-block"),n=listen(t,"click",a)},m(e,n){insert(e,t,n)},p(n,a){e=a,n.spritesheetSrc&&set_style(t,"height",e.spritesheetSrc.dimensions.height+"px"),n.calc&&set_style(t,"width",e.calc.frameWidth+"px"),n.spritesheetSrc&&set_style(t,"background-image","url('"+e.spritesheetSrc.dataUrl+"')"),n.calc&&set_style(t,"background-position","-"+e.calc.frameWidth*e.i+"px 0"),(n.anim||n.spritesheetSrc)&&set_style(t,"box-shadow",e.anim.spriteFrame%e.spritesheetSrc.framecount==e.i?"inset 0 0 5px black":"none")},d(e){e&&detach(t),n()}}}function create_else_block_2(e){var t;let n=e.tools,a=[];for(let t=0;t<n.length;t+=1)a[t]=create_each_block_1$1(get_each_context_1$1(e,n,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=empty()},m(e,n){for(let t=0;t<a.length;t+=1)a[t].m(e,n);insert(e,t,n)},p(e,i){if(e.tools){let r;for(n=i.tools,r=0;r<n.length;r+=1){const o=get_each_context_1$1(i,n,r);a[r]?a[r].p(e,o):(a[r]=create_each_block_1$1(o),a[r].c(),a[r].m(t.parentNode,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=n.length}},d(e){destroy_each(a,e),e&&detach(t)}}}function create_if_block_13(e){var t,n,a,i,r,o,s,l,c,p,d,_,u,h,m,f,v,b,g,w,y,x,T,I,A,k,H,G,E,O,S,N,P,W,D,R,M,C,F,X,L,z,$,B,Y,U=!1,j=!1,V=e.anim.charFramePositionData[e.anim.windowIndex][e.anim.windowFrame].xvel+"",K=e.anim.charFramePositionData[e.anim.windowIndex][e.anim.windowFrame].yvel+"",J=e.anim.charFramePositionData[e.anim.windowIndex][e.anim.windowFrame].xpos+"",q=e.anim.charFramePositionData[e.anim.windowIndex][e.anim.windowFrame].ypos+"";function Z(){U=!0,e.input0_input_handler.call(u)}function Q(){j=!0,e.input1_input_handler_1.call(v)}return{c(){t=element("div"),n=text("zoom:\n\t\t\t\t\t\t"),a=element("select"),(i=element("option")).textContent="1/4x",(r=element("option")).textContent="1/2x",(o=element("option")).textContent="1x",(s=element("option")).textContent="2x",(l=element("option")).textContent="4x",(c=element("option")).textContent="8x",p=space(),d=element("div"),_=text("grid-x: "),u=element("input"),h=space(),m=element("div"),f=text("grid-y: "),v=element("input"),b=space(),g=element("div"),w=element("label"),y=text("lock offset: \n\t\t\t\t\t\t\t"),x=element("input"),T=space(),I=element("span"),A=space(),k=element("label"),H=text("show motion: \n\t\t\t\t\t\t\t"),G=element("input"),E=space(),O=element("span"),S=space(),N=element("div"),P=text("xvel: "),W=text(V),D=element("br"),R=text("\n\t\t\t\t\t\tyvel: "),M=text(K),C=element("br"),F=text("\n\t\t\t\t\t\txpos: "),X=text(J),L=element("br"),z=text("\n\t\t\t\t\t\typos: "),$=text(q),B=element("br"),i.__value="0.25",i.value=i.__value,r.__value="0.5",r.value=r.__value,o.__value="1",o.value=o.__value,o.selected=!0,s.__value="2",s.value=s.__value,l.__value="4",l.value=l.__value,c.__value="8",c.value=c.__value,void 0===e.anim.zoom&&add_render_callback(()=>e.select_change_handler.call(a)),attr(t,"class","option-param svelte-17vzh85"),set_style(t,"justify-self","right"),set_style(t,"display","block"),attr(u,"type","number"),attr(u,"min","1"),attr(u,"max","100"),attr(d,"class","option-param svelte-17vzh85"),set_style(d,"justify-self","right"),set_style(d,"display","block"),attr(v,"type","number"),attr(v,"min","1"),attr(v,"max","100"),attr(m,"class","option-param svelte-17vzh85"),set_style(m,"justify-self","right"),set_style(m,"display","block"),attr(x,"type","checkbox"),attr(x,"class","svelte-17vzh85"),attr(I,"class","checkmark svelte-17vzh85"),attr(G,"type","checkbox"),attr(G,"class","svelte-17vzh85"),attr(O,"class","checkmark svelte-17vzh85"),attr(g,"class","option-param svelte-17vzh85"),set_style(g,"justify-self","right"),set_style(g,"display","block"),attr(N,"class","stats svelte-17vzh85"),Y=[listen(a,"change",e.select_change_handler),listen(u,"input",Z),listen(v,"input",Q),listen(x,"change",e.input2_change_handler),listen(G,"change",e.input3_change_handler)]},m(Y,U){insert(Y,t,U),append(t,n),append(t,a),append(a,i),append(a,r),append(a,o),append(a,s),append(a,l),append(a,c),select_option(a,e.anim.zoom),insert(Y,p,U),insert(Y,d,U),append(d,_),append(d,u),set_input_value(u,e.anim.zoomGrids[e.anim.zoom][0]),insert(Y,h,U),insert(Y,m,U),append(m,f),append(m,v),set_input_value(v,e.anim.zoomGrids[e.anim.zoom][1]),insert(Y,b,U),insert(Y,g,U),append(g,w),append(w,y),append(w,x),x.checked=e.char.position_locked.value,append(w,T),append(w,I),append(g,A),append(g,k),append(k,H),append(k,G),G.checked=e.anim.movement,append(k,E),append(k,O),insert(Y,S,U),insert(Y,N,U),append(N,P),append(N,W),append(N,D),append(N,R),append(N,M),append(N,C),append(N,F),append(N,X),append(N,L),append(N,z),append(N,$),append(N,B)},p(e,t){e.anim&&select_option(a,t.anim.zoom),!U&&e.anim&&set_input_value(u,t.anim.zoomGrids[t.anim.zoom][0]),U=!1,!j&&e.anim&&set_input_value(v,t.anim.zoomGrids[t.anim.zoom][1]),j=!1,e.char&&(x.checked=t.char.position_locked.value),e.anim&&(G.checked=t.anim.movement),e.anim&&V!==(V=t.anim.charFramePositionData[t.anim.windowIndex][t.anim.windowFrame].xvel+"")&&set_data(W,V),e.anim&&K!==(K=t.anim.charFramePositionData[t.anim.windowIndex][t.anim.windowFrame].yvel+"")&&set_data(M,K),e.anim&&J!==(J=t.anim.charFramePositionData[t.anim.windowIndex][t.anim.windowFrame].xpos+"")&&set_data(X,J),e.anim&&q!==(q=t.anim.charFramePositionData[t.anim.windowIndex][t.anim.windowFrame].ypos+"")&&set_data($,q)},d(e){e&&(detach(t),detach(p),detach(d),detach(h),detach(m),detach(b),detach(g),detach(S),detach(N)),run_all(Y)}}}function create_each_block_1$1(e){var t,n,a,i,r,o,s,l,c=e.tool[0]+"",p=e.tool[1]+"";function d(){return e.click_handler_10(e)}return{c(){t=element("button"),n=element("i"),a=text(c),i=element("span"),r=text(p),o=space(),attr(n,"class","material-icons svelte-17vzh85"),attr(i,"class","svelte-17vzh85"),attr(t,"class","tool svelte-17vzh85"),attr(t,"active",s=e.tools.selected===e.tool[1]),l=listen(t,"click",d)},m(e,s){insert(e,t,s),append(t,n),append(n,a),append(t,i),append(i,r),append(t,o)},p(n,i){e=i,n.tools&&c!==(c=e.tool[0]+"")&&set_data(a,c),n.tools&&p!==(p=e.tool[1]+"")&&set_data(r,p),n.tools&&s!==(s=e.tools.selected===e.tool[1])&&attr(t,"active",s)},d(e){e&&detach(t),l()}}}function create_else_block_1(e){var t,n,a,i,r,o,s;return{c(){attr(t=svg_element("image"),"x",n=e.calc.sprXPos),attr(t,"y",a=e.calc.sprYPos),attr(t,"width",i=e.spritesheetSrc.dimensions.width),attr(t,"height",r=e.spritesheetSrc.dimensions.height),xlink_attr(t,"xlink:href",o=e.spritesheetSrc.dataUrl),attr(t,"clip-path","url(#spriteClip)"),s=[listen(t,"mousedown",stop_propagation(mousedown_handler)),listen(t,"mouseout",stop_propagation(mouseout_handler)),listen(t,"mouseup",stop_propagation(mouseup_handler)),listen(t,"mousemove",stop_propagation(e.mousemove_handler))]},m(e,n){insert(e,t,n)},p(e,s){e.calc&&n!==(n=s.calc.sprXPos)&&attr(t,"x",n),e.calc&&a!==(a=s.calc.sprYPos)&&attr(t,"y",a),e.spritesheetSrc&&i!==(i=s.spritesheetSrc.dimensions.width)&&attr(t,"width",i),e.spritesheetSrc&&r!==(r=s.spritesheetSrc.dimensions.height)&&attr(t,"height",r),e.spritesheetSrc&&o!==(o=s.spritesheetSrc.dataUrl)&&xlink_attr(t,"xlink:href",o)},d(e){e&&detach(t),run_all(s)}}}function create_if_block_12(e){var t,n,a,i,r,o;return{c(){attr(t=svg_element("image"),"x",n=e.calc.sprXPos),attr(t,"y",a=e.calc.sprYPos),attr(t,"width",i=e.spritesheetSrc.dimensions.width),attr(t,"height",r=e.spritesheetSrc.dimensions.height),xlink_attr(t,"xlink:href",o=e.spritesheetSrc.dataUrl),attr(t,"clip-path","url(#spriteClip)")},m(e,n){insert(e,t,n)},p(e,s){e.calc&&n!==(n=s.calc.sprXPos)&&attr(t,"x",n),e.calc&&a!==(a=s.calc.sprYPos)&&attr(t,"y",a),e.spritesheetSrc&&i!==(i=s.spritesheetSrc.dimensions.width)&&attr(t,"width",i),e.spritesheetSrc&&r!==(r=s.spritesheetSrc.dimensions.height)&&attr(t,"height",r),e.spritesheetSrc&&o!==(o=s.spritesheetSrc.dataUrl)&&xlink_attr(t,"xlink:href",o)},d(e){e&&detach(t)}}}function create_if_block_8(e){var t,n,a,i,r,o,s,l;function c(e,t){return 0===t.hitbox.data.HG_SHAPE.value?create_if_block_10:1===t.hitbox.data.HG_SHAPE.value?create_if_block_11:create_else_block}var p=c(0,e),d=p(e),_="pan"===e.tools.selected&&create_if_block_9(e);return{c(){d.c(),t=svg_element("line"),_&&_.c(),l=empty(),attr(t,"class","angle-indicator"),attr(t,"data-index",e.i),attr(t,"x1",n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"x2",a=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value+e.Math.cos(e.hitbox.data.HG_ANGLE.value*-e.Math.PI/180)*e.hitbox.data.HG_WIDTH.value/2+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"y1",i=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value),attr(t,"y2",r=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value+e.Math.sin(e.hitbox.data.HG_ANGLE.value*-e.Math.PI/180)*e.hitbox.data.HG_HEIGHT.value/2),attr(t,"stroke","#0008"),attr(t,"stroke-width",o=4/e.anim.zoom),attr(t,"stroke-dasharray",s=361===e.hitbox.data.HG_ANGLE.value?4/e.anim.zoom:0)},m(e,n){d.m(e,n),insert(e,t,n),_&&_.m(e,n),insert(e,l,n)},p(e,u){p===(p=c(0,u))&&d?d.p(e,u):(d.d(1),(d=p(u))&&(d.c(),d.m(t.parentNode,t))),(e.calc||e.hitboxes||e.anim)&&n!==(n=u.calc.sprXPos+u.hitbox.data.HG_HITBOX_X.value+u.calc.frameWidth*u.anim.spriteFrame)&&attr(t,"x1",n),(e.calc||e.hitboxes||e.anim)&&a!==(a=u.calc.sprXPos+u.hitbox.data.HG_HITBOX_X.value+u.Math.cos(u.hitbox.data.HG_ANGLE.value*-u.Math.PI/180)*u.hitbox.data.HG_WIDTH.value/2+u.calc.frameWidth*u.anim.spriteFrame)&&attr(t,"x2",a),(e.calc||e.hitboxes)&&i!==(i=u.calc.sprYPos+u.hitbox.data.HG_HITBOX_Y.value)&&attr(t,"y1",i),(e.calc||e.hitboxes)&&r!==(r=u.calc.sprYPos+u.hitbox.data.HG_HITBOX_Y.value+u.Math.sin(u.hitbox.data.HG_ANGLE.value*-u.Math.PI/180)*u.hitbox.data.HG_HEIGHT.value/2)&&attr(t,"y2",r),e.anim&&o!==(o=4/u.anim.zoom)&&attr(t,"stroke-width",o),(e.hitboxes||e.anim)&&s!==(s=361===u.hitbox.data.HG_ANGLE.value?4/u.anim.zoom:0)&&attr(t,"stroke-dasharray",s),"pan"===u.tools.selected?_?_.p(e,u):((_=create_if_block_9(u)).c(),_.m(l.parentNode,l)):_&&(_.d(1),_=null)},d(e){d.d(e),e&&detach(t),_&&_.d(e),e&&detach(l)}}}function create_else_block(e){var t,n,a,i,r,o,s,l,c,p,d=e.hitbox;const _=()=>e.rect_binding_1(t,d),u=()=>e.rect_binding_1(null,d);return{c(){attr(t=svg_element("rect"),"class","hitbox"),attr(t,"data-index",e.i),attr(t,"x",n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value-e.hitbox.data.HG_WIDTH.value/2+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"y",a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value-e.hitbox.data.HG_HEIGHT.value/2),attr(t,"rx",i=.25*e.hitbox.data.HG_WIDTH.value),attr(t,"ry",r=.25*e.hitbox.data.HG_HEIGHT.value),attr(t,"width",o=e.hitbox.data.HG_WIDTH.value),attr(t,"height",s=e.hitbox.data.HG_HEIGHT.value),attr(t,"fill",l=e.hitbox.meta.color),attr(t,"stroke",c=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black"),attr(t,"stroke-width",p=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)},m(e,n){insert(e,t,n),_()},p(h,m){d!==(e=m).hitbox&&(u(),d=e.hitbox,_()),(h.calc||h.hitboxes||h.anim)&&n!==(n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value-e.hitbox.data.HG_WIDTH.value/2+e.calc.frameWidth*e.anim.spriteFrame)&&attr(t,"x",n),(h.calc||h.hitboxes)&&a!==(a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value-e.hitbox.data.HG_HEIGHT.value/2)&&attr(t,"y",a),h.hitboxes&&i!==(i=.25*e.hitbox.data.HG_WIDTH.value)&&attr(t,"rx",i),h.hitboxes&&r!==(r=.25*e.hitbox.data.HG_HEIGHT.value)&&attr(t,"ry",r),h.hitboxes&&o!==(o=e.hitbox.data.HG_WIDTH.value)&&attr(t,"width",o),h.hitboxes&&s!==(s=e.hitbox.data.HG_HEIGHT.value)&&attr(t,"height",s),h.hitboxes&&l!==(l=e.hitbox.meta.color)&&attr(t,"fill",l),h.hitboxes&&c!==(c=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black")&&attr(t,"stroke",c),(h.hitboxes||h.anim)&&p!==(p=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)&&attr(t,"stroke-width",p)},d(e){e&&detach(t),u()}}}function create_if_block_11(e){var t,n,a,i,r,o,s,l,c=e.hitbox;const p=()=>e.rect_binding(t,c),d=()=>e.rect_binding(null,c);return{c(){attr(t=svg_element("rect"),"class","hitbox"),attr(t,"data-index",e.i),attr(t,"x",n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value-e.hitbox.data.HG_WIDTH.value/2+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"y",a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value-e.hitbox.data.HG_HEIGHT.value/2),attr(t,"width",i=e.hitbox.data.HG_WIDTH.value),attr(t,"height",r=e.hitbox.data.HG_HEIGHT.value),attr(t,"fill",o=e.hitbox.meta.color),attr(t,"stroke",s=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black"),attr(t,"stroke-width",l=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)},m(e,n){insert(e,t,n),p()},p(_,u){c!==(e=u).hitbox&&(d(),c=e.hitbox,p()),(_.calc||_.hitboxes||_.anim)&&n!==(n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value-e.hitbox.data.HG_WIDTH.value/2+e.calc.frameWidth*e.anim.spriteFrame)&&attr(t,"x",n),(_.calc||_.hitboxes)&&a!==(a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value-e.hitbox.data.HG_HEIGHT.value/2)&&attr(t,"y",a),_.hitboxes&&i!==(i=e.hitbox.data.HG_WIDTH.value)&&attr(t,"width",i),_.hitboxes&&r!==(r=e.hitbox.data.HG_HEIGHT.value)&&attr(t,"height",r),_.hitboxes&&o!==(o=e.hitbox.meta.color)&&attr(t,"fill",o),_.hitboxes&&s!==(s=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black")&&attr(t,"stroke",s),(_.hitboxes||_.anim)&&l!==(l=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)&&attr(t,"stroke-width",l)},d(e){e&&detach(t),d()}}}function create_if_block_10(e){var t,n,a,i,r,o,s,l,c=e.hitbox;const p=()=>e.ellipse_binding(t,c),d=()=>e.ellipse_binding(null,c);return{c(){attr(t=svg_element("ellipse"),"class","hitbox"),attr(t,"data-index",e.i),attr(t,"cx",n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"cy",a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value),attr(t,"rx",i=e.hitbox.data.HG_WIDTH.value/2),attr(t,"ry",r=e.hitbox.data.HG_HEIGHT.value/2),attr(t,"fill",o=e.hitbox.meta.color),attr(t,"stroke",s=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black"),attr(t,"stroke-width",l=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)},m(e,n){insert(e,t,n),p()},p(_,u){c!==(e=u).hitbox&&(d(),c=e.hitbox,p()),(_.calc||_.hitboxes||_.anim)&&n!==(n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value+e.calc.frameWidth*e.anim.spriteFrame)&&attr(t,"cx",n),(_.calc||_.hitboxes)&&a!==(a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value)&&attr(t,"cy",a),_.hitboxes&&i!==(i=e.hitbox.data.HG_WIDTH.value/2)&&attr(t,"rx",i),_.hitboxes&&r!==(r=e.hitbox.data.HG_HEIGHT.value/2)&&attr(t,"ry",r),_.hitboxes&&o!==(o=e.hitbox.meta.color)&&attr(t,"fill",o),_.hitboxes&&s!==(s=e.hitboxes.selected===e.i?"black":e.hitbox.meta.stroke||"black")&&attr(t,"stroke",s),(_.hitboxes||_.anim)&&l!==(l=e.hitboxes.selected===e.i?4/e.anim.zoom:e.hitbox.meta.strokeWidth||0)&&attr(t,"stroke-width",l)},d(e){e&&detach(t),d()}}}function create_if_block_9(e){var t,n,a,i;return{c(){attr(t=svg_element("circle"),"class","resizer"),attr(t,"data-index",e.i),attr(t,"cx",n=e.calc.sprXPos+e.hitbox.data.HG_HITBOX_X.value+e.calc.frameWidth*e.anim.spriteFrame),attr(t,"cy",a=e.calc.sprYPos+e.hitbox.data.HG_HITBOX_Y.value),attr(t,"r",i=4/e.anim.zoom)},m(e,n){insert(e,t,n)},p(e,r){(e.calc||e.hitboxes||e.anim)&&n!==(n=r.calc.sprXPos+r.hitbox.data.HG_HITBOX_X.value+r.calc.frameWidth*r.anim.spriteFrame)&&attr(t,"cx",n),(e.calc||e.hitboxes)&&a!==(a=r.calc.sprYPos+r.hitbox.data.HG_HITBOX_Y.value)&&attr(t,"cy",a),e.anim&&i!==(i=4/r.anim.zoom)&&attr(t,"r",i)},d(e){e&&detach(t)}}}function create_each_block$2(e){var t,n=e.anim.hitboxFrames[e.anim.animFrame]&&e.anim.hitboxFrames[e.anim.animFrame].includes(e.i),a=n&&create_if_block_8(e);return{c(){a&&a.c(),t=empty()},m(e,n){a&&a.m(e,n),insert(e,t,n)},p(e,i){e.anim&&(n=i.anim.hitboxFrames[i.anim.animFrame]&&i.anim.hitboxFrames[i.anim.animFrame].includes(i.i)),n?a?a.p(e,i):((a=create_if_block_8(i)).c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&detach(t)}}}function create_if_block_7(e){var t,n,a;return{c(){set_style(t=svg_element("ellipse"),"pointer-events","none"),attr(t,"cx",n=e.Math.floor(e.calc.relMouseX)),attr(t,"cy",a=e.Math.floor(e.calc.relMouseY)),attr(t,"rx","1"),attr(t,"ry","1"),attr(t,"fill","#F008"),attr(t,"stroke","black"),attr(t,"stroke-width","0")},m(e,n){insert(e,t,n)},p(e,i){e.calc&&n!==(n=i.Math.floor(i.calc.relMouseX))&&attr(t,"cx",n),e.calc&&a!==(a=i.Math.floor(i.calc.relMouseY))&&attr(t,"cy",a)},d(e){e&&detach(t)}}}function create_if_block_4$1(e){var t;function n(e,t){return"circle"===t.tools.selected?create_if_block_5:"rectangle"===t.tools.selected||"round"===t.tools.selected?create_if_block_6:void 0}var a=n(0,e),i=a&&a(e);return{c(){i&&i.c(),t=empty()},m(e,n){i&&i.m(e,n),insert(e,t,n)},p(e,r){a===(a=n(0,r))&&i?i.p(e,r):(i&&i.d(1),(i=a&&a(r))&&(i.c(),i.m(t.parentNode,t)))},d(e){i&&i.d(e),e&&detach(t)}}}function create_if_block_6(e){var t,n,a,i;return{c(){attr(t=svg_element("rect"),"x",n=e.Math.floor(e.calc.relMouseX)),attr(t,"y",a=e.Math.floor(e.calc.relMouseY)),attr(t,"fill","white"),attr(t,"stroke","black"),attr(t,"stroke-width",i=4/e.anim.zoom)},m(n,a){insert(n,t,a),e.rect_binding_2(t)},p(e,r){e.calc&&n!==(n=r.Math.floor(r.calc.relMouseX))&&attr(t,"x",n),e.calc&&a!==(a=r.Math.floor(r.calc.relMouseY))&&attr(t,"y",a),e.anim&&i!==(i=4/r.anim.zoom)&&attr(t,"stroke-width",i)},d(n){n&&detach(t),e.rect_binding_2(null)}}}function create_if_block_5(e){var t,n,a,i;return{c(){attr(t=svg_element("ellipse"),"cx",n=e.Math.floor(e.calc.relMouseX)),attr(t,"cy",a=e.Math.floor(e.calc.relMouseY)),attr(t,"fill","white"),attr(t,"stroke","black"),attr(t,"stroke-width",i=4/e.anim.zoom)},m(n,a){insert(n,t,a),e.ellipse_binding_1(t)},p(e,r){e.calc&&n!==(n=r.Math.floor(r.calc.relMouseX))&&attr(t,"cx",n),e.calc&&a!==(a=r.Math.floor(r.calc.relMouseY))&&attr(t,"cy",a),e.anim&&i!==(i=4/r.anim.zoom)&&attr(t,"stroke-width",i)},d(n){n&&detach(t),e.ellipse_binding_1(null)}}}function create_if_block_3$2(e){var t,n;function a(n){e.paramsbuilder_props_binding_3.call(null,n),t=!0,add_flush_callback(()=>t=!1)}let i={isDisabled:isDisabled};void 0!==e.char&&(i.props=e.char);var r=new ParamsBuilder({props:i});return binding_callbacks.push(()=>bind(r,"props",a)),{c(){r.$$.fragment.c()},m(e,t){mount_component(r,e,t),n=!0},p(e,n){var a={};!t&&e.char&&(a.props=n.char),r.$set(a)},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){destroy_component(r,e)}}}function create_if_block_2$2(e){var t,n;function a(n){e.paramsbuilder_props_binding_2.call(null,n),t=!0,add_flush_callback(()=>t=!1)}let i={isDisabled:isDisabled};void 0!==e.atkData&&(i.props=e.atkData);var r=new ParamsBuilder({props:i});return binding_callbacks.push(()=>bind(r,"props",a)),{c(){r.$$.fragment.c()},m(e,t){mount_component(r,e,t),n=!0},p(e,n){var a={};!t&&e.atkData&&(a.props=n.atkData),r.$set(a)},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){destroy_component(r,e)}}}function create_if_block_1$2(e){var t,n;function a(n){e.paramsbuilder_props_binding_1.call(null,n),t=!0,add_flush_callback(()=>t=!1)}let i={isDisabled:isDisabled};void 0!==e.hitboxes[e.hitboxes.selected].data&&(i.props=e.hitboxes[e.hitboxes.selected].data);var r=new ParamsBuilder({props:i});return binding_callbacks.push(()=>bind(r,"props",a)),{c(){r.$$.fragment.c()},m(e,t){mount_component(r,e,t),n=!0},p(e,n){var a={};!t&&e.hitboxes&&(a.props=n.hitboxes[n.hitboxes.selected].data),r.$set(a)},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){destroy_component(r,e)}}}function create_if_block$2(e){var t,n;function a(n){e.paramsbuilder_props_binding.call(null,n),t=!0,add_flush_callback(()=>t=!1)}let i={isDisabled:isDisabled};void 0!==e.windows[e.anim.windowIndex].data&&(i.props=e.windows[e.anim.windowIndex].data);var r=new ParamsBuilder({props:i});return binding_callbacks.push(()=>bind(r,"props",a)),{c(){r.$$.fragment.c()},m(e,t){mount_component(r,e,t),n=!0},p(e,n){var a={};(!t&&e.windows||e.anim)&&(a.props=n.windows[n.anim.windowIndex].data),r.$set(a)},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){destroy_component(r,e)}}}function create_fragment$2(e){var t,n,a,i,r,o,s,l,c,p,d,_,u,h,m,f,v,b,g,w,y,x,T,I,A,k,H,G,E,O,S,N,P,W,D,R,M,C,F,X,L,z,$,B,Y,U,j,V,K,J,q,Z,Q,ee,te,ne,ae,ie,re,oe,se,le,ce,pe,de,_e,ue,he,me,fe,ve,be,ge,we,ye,xe,Te,Ie,Ae,ke,He,Ge,Ee,Oe,Se,Ne,Pe,We,De,Re,Me,Ce,Fe,Xe,Le,ze,$e,Be=e.spritesheetSrc?e.spritesheetSrc.file.name:"...",Ye=!1;function Ue(){Ye=!0,e.input1_input_handler.call(h)}let je=new e.Array(e.spritesheetSrc.framecount).fill(0),Ve=[];for(let t=0;t<je.length;t+=1)Ve[t]=create_each_block_2(get_each_context_2(e,je,t));function Ke(t){e.timeline_anim_binding.call(null,t),B=!0,add_flush_callback(()=>B=!1)}function Je(t){e.timeline_windows_binding.call(null,t),Y=!0,add_flush_callback(()=>Y=!1)}function qe(t){e.timeline_hitboxes_binding.call(null,t),U=!0,add_flush_callback(()=>U=!1)}function Ze(t){e.timeline_editingMode_binding.call(null,t),j=!0,add_flush_callback(()=>j=!1)}let Qe={skipAhead:e.skipAhead,skipBack:e.skipBack,winProps:winProps};void 0!==e.anim&&(Qe.anim=e.anim),void 0!==e.windows&&(Qe.windows=e.windows),void 0!==e.hitboxes&&(Qe.hitboxes=e.hitboxes),void 0!==e.editingMode&&(Qe.editingMode=e.editingMode);var et=new Timeline({props:Qe});function tt(e,t){return t.mainViewInfo?create_if_block_13:create_else_block_2}binding_callbacks.push(()=>bind(et,"anim",Ke)),binding_callbacks.push(()=>bind(et,"windows",Je)),binding_callbacks.push(()=>bind(et,"hitboxes",qe)),binding_callbacks.push(()=>bind(et,"editingMode",Ze));var nt=tt(0,e),at=nt(e);function it(e,t){return t.char.position_locked.value||"pan"!==t.tools.selected?create_if_block_12:create_else_block_1}var rt=it(0,e),ot=rt(e);let st=e.hitboxes,lt=[];for(let t=0;t<st.length;t+=1)lt[t]=create_each_block$2(get_each_context$2(e,st,t));function ct(e,t){return t.tools.active?create_if_block_4$1:((null==Re||e.tools)&&(Re=!!["circle","rectangle","round"].includes(t.tools.selected)),Re?create_if_block_7:void 0)}var pt=ct(null,e),dt=pt&&pt(e),_t=[create_if_block$2,create_if_block_1$2,create_if_block_2$2,create_if_block_3$2],ut=[];function ht(e,t){return"window"===t.editingMode?0:"hitbox"===t.editingMode?1:"atkData"===t.editingMode?2:"chrData"===t.editingMode?3:-1}return~(Xe=ht(0,e))&&(Le=ut[Xe]=_t[Xe](e)),{c(){t=element("div"),n=element("div"),a=element("div"),(i=element("label")).innerHTML='<button class="svelte-17vzh85">upload spritesheet</button>',r=space(),o=element("input"),s=space(),l=element("p"),c=text(Be),p=space(),d=element("div"),(_=element("label")).textContent="number of frames in spritesheet:",u=space(),h=element("input"),m=space(),f=element("div"),(v=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">edit</i><span class="svelte-17vzh85">edit attack data</span>',b=space(),(g=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">person</i><span class="svelte-17vzh85">edit character data</span>',w=space(),y=element("div"),(x=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">save_alt</i><span class="svelte-17vzh85">save to browser</span>',T=space(),(I=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">unarchive</i><span class="svelte-17vzh85">load from browser</span>',A=space(),(k=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">import_export</i><span class="svelte-17vzh85">export to GML</span>',H=space(),G=element("div"),(E=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">attachment</i><span class="svelte-17vzh85">init.gml</span>',O=space(),(S=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">attachment</i><span class="svelte-17vzh85">load.gml</span>',N=space(),(P=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">attachment</i><span class="svelte-17vzh85">[attackname].gml</span>',W=space(),D=element("textarea"),R=space(),(M=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">attachment</i><span class="svelte-17vzh85">export WIP</span>',C=space(),(F=element("button")).innerHTML='<i class="material-icons svelte-17vzh85">attachment</i><span class="svelte-17vzh85">import WIP</span>',X=space(),L=element("div"),z=element("div");for(let e=0;e<Ve.length;e+=1)Ve[e].c();$=space(),et.$$.fragment.c(),V=space(),K=element("div"),J=element("div"),q=element("button"),Z=text("info"),Q=space(),ee=element("button"),te=text("tools"),ae=space(),ie=element("div"),at.c(),re=space(),oe=element("div"),se=svg_element("svg"),le=svg_element("defs"),ce=svg_element("filter"),pe=svg_element("feGaussianBlur"),de=svg_element("clipPath"),_e=svg_element("rect"),me=svg_element("mask"),fe=svg_element("circle"),we=svg_element("path"),Te=svg_element("path"),ke=svg_element("path"),Ee=svg_element("rect"),ot.c(),We=empty();for(let e=0;e<lt.length;e+=1)lt[e].c();De=empty(),dt&&dt.c(),Ce=space(),Fe=element("div"),Le&&Le.c(),attr(i,"for","spritesheet-upload"),attr(o,"id","spritesheet-upload"),attr(o,"type","file"),attr(o,"class","svelte-17vzh85"),attr(l,"class","filename svelte-17vzh85"),attr(a,"class","inputGroup svelte-17vzh85"),attr(_,"for","framecount"),attr(h,"id","framecount"),attr(h,"type","number"),attr(h,"min","1"),attr(h,"max","99"),attr(d,"class","inputGroup svelte-17vzh85"),attr(v,"class","svelte-17vzh85"),attr(g,"class","svelte-17vzh85"),attr(f,"class","inputGroup svelte-17vzh85"),attr(x,"class","svelte-17vzh85"),attr(I,"class","svelte-17vzh85"),attr(k,"class","svelte-17vzh85"),attr(y,"class","inputGroup svelte-17vzh85"),attr(E,"class","svelte-17vzh85"),attr(S,"class","svelte-17vzh85"),attr(P,"class","svelte-17vzh85"),set_style(D,"height","300px"),set_style(D,"width","100%"),set_style(D,"color","#DDD"),set_style(D,"font-size","10px"),set_style(D,"font-family","monospace"),set_style(D,"background-color","black"),attr(M,"class","svelte-17vzh85"),attr(F,"class","svelte-17vzh85"),attr(G,"class","inputGroup svelte-17vzh85"),attr(n,"id","file"),attr(n,"class","svelte-17vzh85"),attr(z,"class","frameContainer"),set_style(z,"width",e.spritesheetSrc.dimensions.width+"px"),set_style(z,"height","100%"),set_style(z,"background-color","black"),attr(L,"id","frames"),attr(L,"class","svelte-17vzh85"),attr(q,"class","tab svelte-17vzh85"),attr(q,"active",e.mainViewInfo),attr(ee,"class","tab svelte-17vzh85"),attr(ee,"active",ne=!e.mainViewInfo),attr(ie,"class","tool-container svelte-17vzh85"),attr(J,"class","option-container svelte-17vzh85"),set_style(J,"z-index","500"),set_style(J,"height","auto"),set_style(J,"pointer-events","none"),attr(pe,"in","SourceGraphic"),attr(pe,"stdDeviation","5"),attr(ce,"id","blur"),attr(ce,"x","0"),attr(ce,"y","0"),attr(_e,"x",ue=e.anim.spriteFrame%e.spritesheetSrc.framecount/e.spritesheetSrc.framecount),attr(_e,"y","0"),attr(_e,"width",he=1/e.spritesheetSrc.framecount),attr(_e,"height","1"),attr(de,"id","spriteClip"),attr(de,"clipPathUnits","objectBoundingBox"),attr(fe,"cx",ve=e.calc.relMouseX),attr(fe,"cy",be=e.calc.relMouseY),attr(fe,"r",ge=e.anim.gridViewerRadius/e.anim.zoom),attr(fe,"fill","white"),attr(fe,"filter","url(#blur)"),attr(me,"id","mouseMask"),attr(we,"d",ye="\n\t\t\t\t\tM "+-4*e.rend.clientWidth/2+" 0\n\t\t\t\t\th "+4*e.rend.clientWidth+"\n\t\t\t\t"),attr(we,"stroke-width",xe=2/e.anim.zoom),attr(we,"stroke","#000F"),attr(we,"shape-rendering","crispEdges"),attr(Te,"d",Ie="\n\t\t\t\t\tM 0 "+-4*e.rend.clientHeight/2+"\n\t\t\t\t\tv "+4*e.rend.clientHeight+"\n\t\t\t\t"),attr(Te,"stroke-width",Ae=2/e.anim.zoom),attr(Te,"stroke","#000F"),attr(Te,"shape-rendering","crispEdges"),attr(ke,"d",He=e.anim.grid?e.drawGridOverlay(e.anim.zoomGrids[e.anim.zoom][0],e.anim.zoomGrids[e.anim.zoom][1],e.anim.gridViewerRadius/e.anim.zoom,e.calc.relMouseX,e.calc.relMouseY):""),attr(ke,"stroke-width",Ge=1/e.anim.zoom),attr(ke,"stroke","#0008"),attr(ke,"shape-rendering","crispEdges"),attr(ke,"mask","url(#mouseMask)"),attr(Ee,"x",Oe=e.calc.sprXPos+e.calc.frameWidth*e.anim.spriteFrame),attr(Ee,"y",Se=e.calc.sprYPos),attr(Ee,"width",Ne=e.calc.frameWidth),attr(Ee,"height",Pe=e.spritesheetSrc.dimensions.height),attr(Ee,"stroke","black"),attr(Ee,"stroke-width","2"),attr(Ee,"fill","none"),attr(se,"version","2.0"),set_style(se,"width","100%"),set_style(se,"height","100%"),attr(se,"viewBox",Me="\n\t\t\t\t\t"+(e.anim.cameraX-e.rend.clientWidth)/2/e.anim.zoom+" \n\t\t\t\t\t"+(e.anim.cameraY-e.rend.clientHeight)/2/e.anim.zoom+" \n\t\t\t\t\t"+e.rend.clientWidth/e.anim.zoom+" \n\t\t\t\t\t"+e.rend.clientHeight/e.anim.zoom),attr(oe,"class","grid"),set_style(oe,"width","100%"),set_style(oe,"height","100%"),set_style(oe,"position","absolute"),set_style(oe,"top","0"),set_style(oe,"left","0"),set_style(oe,"display","grid"),set_style(oe,"image-rendering","pixelated"),attr(K,"id","main"),attr(K,"tabindex","0"),attr(K,"class","svelte-17vzh85"),attr(Fe,"id","settings"),attr(Fe,"class","svelte-17vzh85"),attr(t,"id","app"),attr(t,"class","svelte-17vzh85"),$e=[listen(o,"change",e.change_handler),listen(h,"input",Ue),listen(v,"click",e.click_handler),listen(g,"click",e.click_handler_1),listen(x,"click",e.save),listen(I,"click",e.load),listen(k,"click",e.gmlExport),listen(E,"click",e.click_handler_2),listen(S,"click",e.click_handler_3),listen(P,"click",e.click_handler_4),listen(D,"input",e.textarea_input_handler),listen(M,"click",e.click_handler_5),listen(F,"click",e.click_handler_6),listen(q,"click",e.click_handler_8),listen(ee,"click",e.click_handler_9),listen(K,"keydown",e.keydown_handler),listen(K,"mousemove",e.mousemove_handler_1),listen(K,"mousedown",e.mousedown_handler_1),listen(K,"mouseup",e.mouseup_handler_1)]},m(B,Y){insert(B,t,Y),append(t,n),append(n,a),append(a,i),append(a,r),append(a,o),append(a,s),append(a,l),append(l,c),append(n,p),append(n,d),append(d,_),append(d,u),append(d,h),set_input_value(h,e.spritesheetSrc.framecount),append(n,m),append(n,f),append(f,v),append(f,b),append(f,g),append(n,w),append(n,y),append(y,x),append(y,T),append(y,I),append(y,A),append(y,k),append(n,H),append(n,G),append(G,E),append(G,O),append(G,S),append(G,N),append(G,P),append(G,W),append(G,D),set_input_value(D,e.outputBox),append(G,R),append(G,M),append(G,C),append(G,F),append(t,X),append(t,L),append(L,z);for(let e=0;e<Ve.length;e+=1)Ve[e].m(z,null);append(t,$),mount_component(et,t,null),append(t,V),append(t,K),append(K,J),append(J,q),append(q,Z),append(J,Q),append(J,ee),append(ee,te),append(J,ae),append(J,ie),at.m(ie,null),append(K,re),append(K,oe),append(oe,se),append(se,le),append(le,ce),append(ce,pe),append(le,de),append(de,_e),append(le,me),append(me,fe),append(se,we),append(se,Te),append(se,ke),append(se,Ee),ot.m(se,null),append(se,We);for(let e=0;e<lt.length;e+=1)lt[e].m(se,null);append(se,De),dt&&dt.m(se,null),e.div11_binding(K),append(t,Ce),append(t,Fe),~Xe&&ut[Xe].m(Fe,null),ze=!0},p(e,t){if(ze&&!e.spritesheetSrc||Be===(Be=t.spritesheetSrc?t.spritesheetSrc.file.name:"...")||set_data(c,Be),!Ye&&e.spritesheetSrc&&set_input_value(h,t.spritesheetSrc.framecount),Ye=!1,e.outputBox&&set_input_value(D,t.outputBox),e.spritesheetSrc||e.calc||e.anim||e.Array){let n;for(je=new t.Array(t.spritesheetSrc.framecount).fill(0),n=0;n<je.length;n+=1){const a=get_each_context_2(t,je,n);Ve[n]?Ve[n].p(e,a):(Ve[n]=create_each_block_2(a),Ve[n].c(),Ve[n].m(z,null))}for(;n<Ve.length;n+=1)Ve[n].d(1);Ve.length=je.length}ze&&!e.spritesheetSrc||set_style(z,"width",t.spritesheetSrc.dimensions.width+"px");var n={};if(!B&&e.anim&&(n.anim=t.anim),!Y&&e.windows&&(n.windows=t.windows),!U&&e.hitboxes&&(n.hitboxes=t.hitboxes),!j&&e.editingMode&&(n.editingMode=t.editingMode),et.$set(n),ze&&!e.mainViewInfo||attr(q,"active",t.mainViewInfo),ze&&!e.mainViewInfo||ne===(ne=!t.mainViewInfo)||attr(ee,"active",ne),nt===(nt=tt(0,t))&&at?at.p(e,t):(at.d(1),(at=nt(t))&&(at.c(),at.m(ie,null))),ze&&!e.anim&&!e.spritesheetSrc||ue===(ue=t.anim.spriteFrame%t.spritesheetSrc.framecount/t.spritesheetSrc.framecount)||attr(_e,"x",ue),ze&&!e.spritesheetSrc||he===(he=1/t.spritesheetSrc.framecount)||attr(_e,"width",he),ze&&!e.calc||ve===(ve=t.calc.relMouseX)||attr(fe,"cx",ve),ze&&!e.calc||be===(be=t.calc.relMouseY)||attr(fe,"cy",be),ze&&!e.anim||ge===(ge=t.anim.gridViewerRadius/t.anim.zoom)||attr(fe,"r",ge),ze&&!e.rend||ye===(ye="\n\t\t\t\t\tM "+-4*t.rend.clientWidth/2+" 0\n\t\t\t\t\th "+4*t.rend.clientWidth+"\n\t\t\t\t")||attr(we,"d",ye),ze&&!e.anim||xe===(xe=2/t.anim.zoom)||attr(we,"stroke-width",xe),ze&&!e.rend||Ie===(Ie="\n\t\t\t\t\tM 0 "+-4*t.rend.clientHeight/2+"\n\t\t\t\t\tv "+4*t.rend.clientHeight+"\n\t\t\t\t")||attr(Te,"d",Ie),ze&&!e.anim||Ae===(Ae=2/t.anim.zoom)||attr(Te,"stroke-width",Ae),ze&&!e.anim&&!e.calc||He===(He=t.anim.grid?t.drawGridOverlay(t.anim.zoomGrids[t.anim.zoom][0],t.anim.zoomGrids[t.anim.zoom][1],t.anim.gridViewerRadius/t.anim.zoom,t.calc.relMouseX,t.calc.relMouseY):"")||attr(ke,"d",He),ze&&!e.anim||Ge===(Ge=1/t.anim.zoom)||attr(ke,"stroke-width",Ge),ze&&!e.calc&&!e.anim||Oe===(Oe=t.calc.sprXPos+t.calc.frameWidth*t.anim.spriteFrame)||attr(Ee,"x",Oe),ze&&!e.calc||Se===(Se=t.calc.sprYPos)||attr(Ee,"y",Se),ze&&!e.calc||Ne===(Ne=t.calc.frameWidth)||attr(Ee,"width",Ne),ze&&!e.spritesheetSrc||Pe===(Pe=t.spritesheetSrc.dimensions.height)||attr(Ee,"height",Pe),rt===(rt=it(0,t))&&ot?ot.p(e,t):(ot.d(1),(ot=rt(t))&&(ot.c(),ot.m(se,We))),e.anim||e.tools||e.calc||e.hitboxes||e.Math){let n;for(st=t.hitboxes,n=0;n<st.length;n+=1){const a=get_each_context$2(t,st,n);lt[n]?lt[n].p(e,a):(lt[n]=create_each_block$2(a),lt[n].c(),lt[n].m(se,De))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=st.length}pt===(pt=ct(e,t))&&dt?dt.p(e,t):(dt&&dt.d(1),(dt=pt&&pt(t))&&(dt.c(),dt.m(se,null))),ze&&!e.anim&&!e.rend||Me===(Me="\n\t\t\t\t\t"+(t.anim.cameraX-t.rend.clientWidth)/2/t.anim.zoom+" \n\t\t\t\t\t"+(t.anim.cameraY-t.rend.clientHeight)/2/t.anim.zoom+" \n\t\t\t\t\t"+t.rend.clientWidth/t.anim.zoom+" \n\t\t\t\t\t"+t.rend.clientHeight/t.anim.zoom)||attr(se,"viewBox",Me);var a=Xe;(Xe=ht(0,t))===a?~Xe&&ut[Xe].p(e,t):(Le&&(group_outros(),transition_out(ut[a],1,1,()=>{ut[a]=null}),check_outros()),~Xe?((Le=ut[Xe])||(Le=ut[Xe]=_t[Xe](t)).c(),transition_in(Le,1),Le.m(Fe,null)):Le=null)},i(e){ze||(transition_in(et.$$.fragment,e),transition_in(Le),ze=!0)},o(e){transition_out(et.$$.fragment,e),transition_out(Le),ze=!1},d(n){n&&detach(t),destroy_each(Ve,n),destroy_component(et),at.d(),ot.d(),destroy_each(lt,n),dt&&dt.d(),e.div11_binding(null),~Xe&&ut[Xe].d(),run_all($e)}}}const mousedown_handler=e=>e.target.dragging=!0,mouseout_handler=e=>e.target.dragging=!1,mouseup_handler=e=>e.target.dragging=!1;function instance$2(e,t,n){window.onbeforeunload=(e=>"derp");let a,i,r,o={file:"...",dataUrl:"",dimensions:{width:0,height:0},framecount:1},s={ground_friction:{value:1,description:"how fast the character's horizontal speed decreases on the ground",type:"number"},air_friction:{value:.07,description:"how fast the character's horizontal speed decreases in midair",type:"number"},gravity_speed:{value:.5,description:"how fast the character falls naturally",type:"number"},sprite_offset_x:{value:0,description:"sprite offset X location",type:"number"},sprite_offset_y:{value:0,description:"sprite offset Y location",type:"number"},position_locked:{value:!1,description:"whether or not the character's offset will move in the editor",type:[!0,!1]}},l=[{meta:{name:"derp"},data:JSON.parse(JSON.stringify({...winProps}))}],c=[],p=JSON.parse(JSON.stringify(atkDataProps)),d="window",_=!0,u=[["pan_tool","pan","v"],["add_box","rectangle","b"],["rounded_corner","round","r"],["add_circle","circle","o"],["clear","eraser","Backspace"]];n("tools",u.selected="pan",u);let h={animFrame:0,playSpeed:1,playing:!1,loop:!0,zoom:1,cameraX:0,cameraY:0,movement:!0,grid:-1,gridViewerRadius:45,zoomGrids:{.25:[50,50],.5:[25,25],1:[20,20],2:[10,10],4:[5,5],8:[1,1]},duration:0,spriteFrame:0,windowIndex:0,windowFrame:0,windowPositions:[],hitboxFrames:{},xpos:0,ypos:0,charFramePositionData:[]},m={frameWidth:0,sprXPos:0,sprYPos:0,mouseX:0,mouseY:0,relMouseX:0,relMouseY:0,aspectRatio:1};let f="nothing exported yet",v="nothing exported yet",b="nothing exported yet",g="stuff will appear here when the above buttons are clicked...";const w=()=>{0!==h.windowIndex?n("anim",h.animFrame=h.windowPositions[h.windowIndex-1],h):n("anim",h.animFrame=0,h)},y=()=>{h.windowIndex!==l.length-1?n("anim",h.animFrame=h.windowPositions[h.windowIndex+1],h):n("anim",h.animFrame=h.windowPositions[h.windowIndex]+l[h.windowIndex].data.AG_WINDOW_LENGTH.value-1,h)},x=async e=>{n("spritesheetSrc",o.file=e,o),n("spritesheetSrc",o.buffer=await e.arrayBuffer(),o);let t=new FileReader;t.onloadend=(()=>{n("spritesheetSrc",o.dataUrl=t.result,o);let e=new Image;e.onload=function(){n("spritesheetSrc",o.dimensions={width:this.width,height:this.height},o)},e.src=t.result}),t.readAsDataURL(e)};return e.$$.update=((e={renderer:1,windows:1,anim:1,char:1,atkData:1,hitboxes:1,spritesheetSrc:1,calc:1,rend:1})=>{if(e.renderer&&n("rend",r=i||{}),(e.windows||e.anim)&&n("anim",h.duration=l.reduce((e,t,a)=>(h.windowPositions.length!==a?n("anim",h.windowPositions[a]=e,h):h.windowPositions.push(e),e+(t.data.AG_WINDOW_LENGTH.value||1)),0),h),(e.anim||e.windows||e.char||e.atkData)&&h.movement){let e={xvel:0,yvel:0,xpos:0,ypos:0};for(const[t,a]of l.entries()){let i=a.data,r=i.AG_WINDOW_HSPEED.value||0,o=1===i.AG_WINDOW_HAS_CUSTOM_FRICTION.value?i.AG_WINDOW_CUSTOM_GROUND_FRICTION.value:s.ground_friction.value,l=1===i.AG_WINDOW_HAS_CUSTOM_FRICTION.value?i.AG_WINDOW_CUSTOM_AIR_FRICTION.value:s.air_friction.value;o*=-1,l*=-1;let c=i.AG_WINDOW_VSPEED.value||0,d=1===p.AG_USES_CUSTOM_GRAVITY.value&&0!==i.AG_WINDOW_CUSTOM_GRAVITY.value?i.AG_WINDOW_CUSTOM_GRAVITY.value:s.gravity_speed.value,_=i.AG_WINDOW_LENGTH.value||1,u=new Array(_).fill(0).map(()=>({xvel:0,yvel:0,xpos:0,ypos:0}));switch(i.AG_WINDOW_VSPEED_TYPE.value){case 0:for(let t=0;t<_;t++)u[t].yvel=velocityAtFrameGrav(d,c+e.yvel,t),u[t].ypos=0===t?e.ypos+u[t].yvel:u[t-1].ypos+u[t].yvel,u[t].ypos>0&&(u[t].ypos=0,u[t].yvel=0);break;case 1:for(let t=0;t<_;t++)u[t].yvel=c,u[t].ypos=0===t?e.ypos+u[t].yvel:u[t-1].ypos+u[t].yvel,u[t].ypos>0&&(u[t].ypos=0,u[t].yvel=0);break;case 2:for(let t=0;t<_;t++)u[t].yvel=velocityAtFrameGrav(d,c,t),u[t].ypos=0===t?e.ypos+u[t].yvel:u[t-1].ypos+u[t].yvel,u[t].ypos>0&&(u[t].ypos=0,u[t].yvel=0)}switch(i.AG_WINDOW_HSPEED_TYPE.value){case 0:for(let t=0;t<_;t++){let n=0===t?e:u[t-1],a=0===n.ypos?o:l;u[t].xvel=n.xvel+a<=0?0:n.xvel+a,0===t&&(u[t].xvel+=r),u[t].xpos=n.xpos+u[t].xvel}break;case 1:for(let t=0;t<_;t++){let n=0===t?e:u[t-1];u[t].xvel=r,u[t].xpos=n.xpos+u[t].xvel}break;case 2:for(let t=0;t<_;t++){let n=0===t?e:u[t-1],a=0===n.ypos?o:l;u[t].xvel=n.xvel+a<=0?0:n.xvel+a,0===t&&(u[t].xvel=r),u[t].xpos=n.xpos+u[t].xvel}}t===h.charFramePositionData.length?h.charFramePositionData.push(u):n("anim",h.charFramePositionData[t]=u,h),e=u[u.length-1]}}if(e.hitboxes||e.anim){n("anim",h.hitboxFrames={},h);for(const[e,t]of c.entries()){const a=h.windowPositions[t.data.HG_WINDOW.value]+t.data.HG_WINDOW_CREATION_FRAME.value,i=t.data.HG_LIFETIME.value;for(let t=a;t<a+i;t++)h.hitboxFrames[t]||n("anim",h.hitboxFrames[t]=[],h),h.hitboxFrames[t].push(e)}}if(e.anim||e.windows||e.spritesheetSrc){h.animFrame>=h.duration&&n("anim",h.animFrame=h.windowPositions[h.windowIndex],h);let e=h.animFrame;for(const[t,a]of l.entries())if((e-=a.data.AG_WINDOW_LENGTH.value)<=0){if(0===e){n("anim",h.windowIndex=t+1,h),n("anim",h.windowFrame=0,h);break}n("anim",h.windowIndex=t,h),n("anim",h.windowFrame=a.data.AG_WINDOW_LENGTH.value- -1*e,h);break}let t=l[h.windowIndex].data;n("anim",h.spriteFrame=(t.AG_WINDOW_ANIM_FRAME_START.value+Math.floor(h.windowFrame/t.AG_WINDOW_LENGTH.value*t.AG_WINDOW_ANIM_FRAMES.value))%o.framecount,h),h.movement?(n("anim",h.xpos=Math.floor(h.charFramePositionData[h.windowIndex][h.windowFrame].xpos),h),n("anim",h.ypos=Math.floor(h.charFramePositionData[h.windowIndex][h.windowFrame].ypos),h)):(n("anim",h.xpos=0,h),n("anim",h.ypos=0,h))}(e.spritesheetSrc||e.anim||e.calc||e.char||e.rend)&&(n("calc",m.frameWidth=o.dimensions.width/o.framecount,m),n("calc",m.sprXPos=h.xpos-h.spriteFrame*m.frameWidth+Math.floor(s.sprite_offset_x.value)-m.frameWidth/2,m),n("calc",m.sprYPos=h.ypos+Math.floor(s.sprite_offset_y.value),m),h.movement||(n("calc",m.sprXPos+=h.xpos,m),n("calc",m.sprYPos-=h.ypos,m)),r instanceof HTMLElement&&(n("calc",m.relMouseX=(m.mouseX-r.getBoundingClientRect().left-r.clientWidth/2+h.cameraX/2)/h.zoom,m),n("calc",m.relMouseY=(m.mouseY-r.getBoundingClientRect().top-r.clientHeight/2+h.cameraY/2)/h.zoom,m)))}),{spritesheetSrc:o,char:s,windows:l,hitboxes:c,atkData:p,editingMode:d,mainViewInfo:_,activeEl:a,tools:u,renderer:i,rend:r,anim:h,calc:m,save:()=>{store2({anim:h,windows:l,hitboxes:c,spritesheetSrc:o,char:s,atkData:p})},load:()=>{let e=store2();n("anim",h=e.anim),n("windows",l=e.windows),n("spritesheetSrc",o=e.spritesheetSrc),n("char",s=e.char),n("hitboxes",c=e.hitboxes),n("atkData",p=e.atkData)},initGMLCode:f,loadGMLCode:v,attackGMLCode:b,outputBox:g,gmlExport:()=>{const e=exporter(s,p,l,JSON.parse(JSON.stringify(c)));n("initGMLCode",f=e.out_INIT),n("loadGMLCode",v=e.out_LOAD),n("attackGMLCode",b=e.out_ATK)},skipBack:w,skipAhead:y,processImage:x,drawGridOverlay:(e,t,n,a,i)=>{const r=i-1.5*n,o=a-1.5*n;let s="";for(let e=r-r%t;e<i+n;e+=t)s+=`\n\t\t\t\tM ${a-n} ${e}\n\t\t\t\th ${2*n}\n\t\t\t`;for(let t=o-o%e;t<a+n;t+=e)s+=`\n\t\t\t\tM ${t} ${i-n}\n\t\t\t\tv ${2*n}\n\t\t\t`;return s},JSON:JSON,Array:Array,Math:Math,change_handler:async e=>{n("spritesheetSrc",o.file=e.target.files[0],o),x(e.target.files[0])},input1_input_handler:function(){o.framecount=to_number(this.value),n("spritesheetSrc",o)},click_handler:()=>n("editingMode",d="atkData"),click_handler_1:()=>n("editingMode",d="chrData"),click_handler_2:()=>n("outputBox",g=f),click_handler_3:()=>n("outputBox",g=v),click_handler_4:()=>n("outputBox",g=b),textarea_input_handler:function(){g=this.value,n("outputBox",g)},click_handler_5:()=>{n("outputBox",g=JSON.stringify({anim:h,windows:l,hitboxes:c,spritesheetSrc:o,char:s,atkData:p},null,2))},click_handler_6:()=>{let e=JSON.parse(g);n("anim",h=e.anim),n("windows",l=e.windows),n("hitboxes",c=e.hitboxes),n("spritesheetSrc",o=e.spritesheetSrc),n("char",s=e.char),n("atkData",p=e.atkData)},click_handler_7:({i:e})=>{n("windows",l[h.windowIndex].data.AG_WINDOW_ANIM_FRAME_START.value=e,l)},timeline_anim_binding:function(e){n("anim",h=e),n("windows",l),n("char",s),n("atkData",p),n("hitboxes",c),n("spritesheetSrc",o)},timeline_windows_binding:function(e){n("windows",l=e)},timeline_hitboxes_binding:function(e){n("hitboxes",c=e)},timeline_editingMode_binding:function(e){n("editingMode",d=e)},click_handler_8:()=>n("mainViewInfo",_=!0),click_handler_9:()=>n("mainViewInfo",_=!1),select_change_handler:function(){h.zoom=select_value(this),n("anim",h),n("windows",l),n("char",s),n("atkData",p),n("hitboxes",c),n("spritesheetSrc",o)},input0_input_handler:function(){h.zoomGrids[h.zoom][0]=to_number(this.value),n("anim",h),n("windows",l),n("char",s),n("atkData",p),n("hitboxes",c),n("spritesheetSrc",o)},input1_input_handler_1:function(){h.zoomGrids[h.zoom][1]=to_number(this.value),n("anim",h),n("windows",l),n("char",s),n("atkData",p),n("hitboxes",c),n("spritesheetSrc",o)},input2_change_handler:function(){s.position_locked.value=this.checked,n("char",s)},input3_change_handler:function(){h.movement=this.checked,n("anim",h),n("windows",l),n("char",s),n("atkData",p),n("hitboxes",c),n("spritesheetSrc",o)},click_handler_10:({tool:e})=>n("tools",u.selected=e[1],u),mousemove_handler:e=>{e.target.dragging&&!s.position_locked.value&&"pan"===u.selected&&(n("char",s.sprite_offset_x.value+=e.movementX/h.zoom,s),n("char",s.sprite_offset_y.value+=e.movementY/h.zoom,s))},ellipse_binding:function(e,t){t.meta.el!==e&&binding_callbacks[e?"unshift":"push"](()=>{t.meta.el=e,n("hitbox",t)})},rect_binding:function(e,t){t.meta.el!==e&&binding_callbacks[e?"unshift":"push"](()=>{t.meta.el=e,n("hitbox",t)})},rect_binding_1:function(e,t){t.meta.el!==e&&binding_callbacks[e?"unshift":"push"](()=>{t.meta.el=e,n("hitbox",t)})},ellipse_binding_1:function(e){binding_callbacks[e?"unshift":"push"](()=>{n("activeEl",a=e)})},rect_binding_2:function(e){binding_callbacks[e?"unshift":"push"](()=>{n("activeEl",a=e)})},div11_binding:function(e){binding_callbacks[e?"unshift":"push"](()=>{n("renderer",i=e)})},keydown_handler:e=>{switch(e.key){case"[":w();break;case",":h.animFrame>0&&n("anim",h.animFrame--,h);break;case"]":y();break;case".":h.animFrame<h.duration-1&&n("anim",h.animFrame++,h);break;default:for(const t of u)if(t[1]!==u.selected&&t[2]===e.key){n("tools",u.selected=t[1],u);break}}},mousemove_handler_1:e=>{if(i.dragging)switch(u.selected){case"pan":switch(i.target){case"hitbox":n("hitboxes",c[c.selected].data.HG_HITBOX_X.value+=e.movementX/h.zoom,c),n("hitboxes",c[c.selected].data.HG_HITBOX_Y.value+=e.movementY/h.zoom,c);break;case"angle-indicator":n("hitboxes",c[c.selected].data.HG_ANGLE.value=180-180*Math.atan2(i.mouseOrigin[1]-e.pageY,i.mouseOrigin[0]-e.pageX)/Math.PI,c);break;case"resizer":n("hitboxes",c[c.selected].data.HG_WIDTH.value=Math.ceil(Math.abs((i.mouseOrigin[0]-e.pageX)/h.zoom)),c),n("hitboxes",c[c.selected].data.HG_HEIGHT.value=Math.ceil(Math.abs((i.mouseOrigin[1]-e.pageY)/h.zoom)),c);break;default:n("anim",h.cameraX-=e.movementX,h),n("anim",h.cameraY-=e.movementY,h)}break;case"circle":a.setAttributeNS(null,"rx",Math.ceil(Math.abs((i.mouseOrigin[0]-e.pageX)/h.zoom))),a.setAttributeNS(null,"ry",Math.ceil(Math.abs((i.mouseOrigin[1]-e.pageY)/h.zoom)));break;case"rectangle":case"round":a.setAttributeNS(null,"x",i.svgPosition[0]-Math.ceil(Math.abs((i.mouseOrigin[0]-e.pageX)/h.zoom))),a.setAttributeNS(null,"y",i.svgPosition[1]-Math.ceil(Math.abs((i.mouseOrigin[1]-e.pageY)/h.zoom))),a.setAttributeNS(null,"width",2*Math.ceil(Math.abs((i.mouseOrigin[0]-e.pageX)/h.zoom))),a.setAttributeNS(null,"height",2*Math.ceil(Math.abs((i.mouseOrigin[1]-e.pageY)/h.zoom))),"round"===u.selected&&(a.setAttributeNS(null,"rx",.25*parseInt(a.getAttribute("width"))),a.setAttributeNS(null,"ry",.25*parseInt(a.getAttribute("height"))))}else n("calc",m.mouseX=e.clientX,m),n("calc",m.mouseY=e.clientY,m)},mousedown_handler_1:e=>{if(n("tools",u.active=!0,u),n("renderer",i.dragging=!0,i),n("renderer",i.target=e.target.getAttributeNS(null,"class"),i),"hitbox"===i.target||"angle-indicator"===i.target)if("eraser"===u.selected)n("editingMode",d="window"),c.splice(e.target.getAttributeNS(null,"data-index"),1),n("hitboxes",c.forceUpdate=!0,c);else{n("editingMode",d="hitbox"),n("hitboxes",c.selected=parseInt(e.target.getAttributeNS(null,"data-index")),c);const t=c[c.selected].meta.el.getBoundingClientRect();n("renderer",i.mouseOrigin=[t.left+(t.right-t.left)/2,t.top+(t.bottom-t.top)/2],i)}else"resizer"===i.target&&n("hitboxes",c.selected=parseInt(e.target.getAttributeNS(null,"data-index")),c),n("renderer",i.mouseOrigin=[e.pageX,e.pageY],i);n("renderer",i.svgPosition=[m.relMouseX,m.relMouseY],i)},mouseup_handler_1:e=>{switch(n("tools",u.active=!1,u),n("renderer",i.dragging=!1,i),u.selected){case"pan":let t=c[c.selected];switch(i.target){case"hitbox":t.data.HG_HITBOX_X.value=Math.round(t.data.HG_HITBOX_X.value),t.data.HG_HITBOX_Y.value=Math.round(t.data.HG_HITBOX_Y.value);break;case"angle-indicator":t.data.HG_ANGLE.value=Math.round(t.data.HG_ANGLE.value);break;case"resizer":0!==t.data.HG_WIDTH.value&&0!==t.data.HG_HEIGHT.value||(n("editingMode",d="window"),c.splice(c.selected,1),n("hitboxes",c.forceUpdate=!0,c))}break;case"circle":case"rectangle":case"round":let a=JSON.parse(JSON.stringify(hitboxProps));if(a.HG_WIDTH.value=2*Math.ceil(Math.abs((i.mouseOrigin[0]-e.pageX)/h.zoom)),a.HG_HEIGHT.value=2*Math.ceil(Math.abs((i.mouseOrigin[1]-e.pageY)/h.zoom)),0===a.HG_WIDTH.value||0===a.HG_HEIGHT.value)break;a.HG_HITBOX_X.value=Math.floor(i.svgPosition[0])-m.sprXPos-m.frameWidth*h.spriteFrame,a.HG_HITBOX_Y.value=Math.floor(i.svgPosition[1])-m.sprYPos,a.HG_SHAPE.value=["circle","rectangle","round"].indexOf(u.selected),a.HG_WINDOW.value=h.windowIndex,a.HG_WINDOW_CREATION_FRAME.value=h.windowFrame,c.push({meta:{color:"#f008",stroke:"#fFF8",strokeWidth:.5,el:null},data:a}),n("hitboxes",c.selected=c.length-1,c),n("editingMode",d="hitbox")}},paramsbuilder_props_binding:function(e){l[h.windowIndex].data=e,n("windows",l)},paramsbuilder_props_binding_1:function(e){c[c.selected].data=e,n("hitboxes",c)},paramsbuilder_props_binding_2:function(e){n("atkData",p=e)},paramsbuilder_props_binding_3:function(e){n("char",s=e)}}}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,[])}}const app=new App({target:document.body,props:{name:"world"}});return app}();
//# sourceMappingURL=bundle.js.map
